2001-09-17  Yoichi NAKAYAMA <yoichi@eken.phys.nagoya-u.ac.jp>

	* wl-vars.el (wl-summary-width): Fix type to accept nil.
	(wl-fcc): Fix to accept function.
	(Reported by Reuben Thomas <rrt@dcs.gla.ac.uk>).

2001-09-16  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-acap.el (toplevel): Added `product-provide' declare.
	* wl-addrmgr.el (toplevel): Fixed `product-provide' declare style.

2001-09-14  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl.el (wl): Changed order of calling `elmo-init'
	and `elmo-folder-init'.

2001-09-13  Hiroya Murata  <lapis-lazuli@pop06.odn.ne.jp>

	* wl-mime.el (wl-summary-burst): Extract message when content-type
	of root entity is not only `multipart' but also `message/rfc822'.
	(wl-summary-burst-subr): Ditto.

2001-09-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (toplevel): Require 'custom.
	(wl-trash-folder): Added to `wl-setting' group.

	* wl-addrmgr.el (wl-addrmgr-goto-top): Fixed problem when no entry
	exists.
	(wl-addrmgr-draw): Insert empty line when no entry exists.

	* wl-mule.el (wl-message-wheel-up): Fixed.
	(wl-message-wheel-down): Ditto.

2001-09-12  Hiroya Murata  <lapis-lazuli@pop06.odn.ne.jp>

	* wl-draft.el (wl-draft-config-exec-sub): Fixed problem when
	config is an anonymous lambda expression.

2001-09-11  Katsumi Yamaoka  <yamaoka@jpl.org>

	* wl-vars.el (wl-biff-state-indicator-on): Use `*iso-2022-jp*'
	when Mule 2 is running.

2001-09-11  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-e21.el (wl-highlight-folder-current-line): Fixed regexp.

2001-09-10  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-std11-parse-addresses): Ignore trailing
	spaces (Adviced by NAKAJIMA Mikio <minakaji@osaka.email.ne.jp>).

	* wl-address.el (wl-address-specials-regexp): Eliminated.
	(wl-address-quote-specials): Rewrite.

2001-09-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* wl-xmas.el (wl-highlight-folder-current-line): Use Perl style
	shy-groups for regexp.

	* wl-e21.el (wl-highlight-folder-current-line): Use Posix style
	character classes and Perl style shy-groups for regexp.
	(wl-highlight-plugged-current-line): Use Posix style character
	classes for regexp.
	(wl-e21-highlight-folder-by-numbers): Ditto.
	(wl-e21-display-image-p): Use `display-images-p' instead of
	`display-graphic-p'.
	(display-images-p): Make an alias to `display-graphic-p' if it is
	not available.  It is for Emacs version prior to 21.0.105.

	* wl-demo.el (wl-demo): Use `display-images-p' instead of
	`display-graphic-p'.
	(wl-demo-image-type-alist): Ditto.
	(display-images-p): Make an alias to `display-graphic-p' if it is
	not available.  It is for Emacs version prior to 21.0.105.

2001-09-04  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-generate-user-agent-string-1): Remove tm
	support.
	(wl-generate-user-agent-string): Ditto.

	* wl-version.el (wl-version): Update docsting.
	(wl-version-status): Ditto.

2001-09-03  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-e21.el (make-mode-line-mouse-map): Import from Emacs
	21.0.105.  For Emacs 21.0.104 or earlier.

2001-09-03  Takuo KITAME <kitame@northeye.org>

	* wl-e21.el (wl-plugged-init-icons): Use
	`make-mode-line-mouse-map' instead of `make-mode-line-mouse2-map'.
	(wl-biff-init-icons): Ditto.

2001-08-31  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-highlight.el (wl-highlight-summary-current-line):
	Fixed highlighting refile/copy destination.

	* wl-acap.el (wl-acap-init): Decode string by wl-acap-coding-system.
	(wl-acap-store): Encode string by wl-acap-coding-system.

2001-08-30  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-acap.el (toplevel): Check and require 'un-define before
	'xemacs-ucs;
	 Added checking for UTF-2000.

2001-08-29  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-acap.el (toplevel): Require 'un-define before 'wl;
	Don't enclose with `eval-and-compile'.

	* wl.el (wl): Call `elmo-init' and `wl-folder-init' unless
	wl-init is non-nil.

	* wl-draft.el (wl-draft): Ditto.

	* wl-folder.el (wl-folder): Don't call `wl-folder-init' here.

	* wl-acap.el (toplevel): Require 'wl.
	(wl-acap-store): Call `elmo-init'.

	* wl.el (wl): Changed position of `wl-check-environment'.
	(toplevel): Added autoload setting for wl-acap.

	* wl-vars.el (wl-setting): New custom group.
	(wl-from): Added wl-setting group.
	(wl-user-mail-address-list): Ditto.
	(wl-organization): Ditto.
	(wl-subscribed-mailing-list): Ditto.
	(wl-envelope-from): Ditto.
	(wl-smtp-posting-user): Ditto.
	(wl-smtp-posting-server): Ditto.
	(wl-smtp-posting-port): Ditto.
	(wl-smtp-authenticate-type): Ditto.
	(wl-pop-before-smtp-user): Ditto.
	(wl-pop-before-smtp-server): Ditto.
	(wl-pop-before-smtp-port): Ditto.
	(wl-pop-before-smtp-authenticate-type): Ditto.
	(wl-nntp-posting-server): Ditto.
	(wl-nntp-posting-user): Ditto.
	(wl-nntp-posting-port): Ditto.
	(wl-fetch-confirm-threshold): Ditto.
	(wl-prefetch-threshold): Ditto.
	(wl-thread-insert-opened): Ditto.
	(wl-ldap-server): Ditto.
	(wl-ldap-port): Ditto.
	(wl-ldap-base): Ditto.
	(wl-ldap-objectclass): Ditto.
	(wl-use-ldap): Ditto.
	(wl-draft-config-alist): Ditto.
	(wl-draft-config-matchone): Ditto.
	(wl-template-alist): Ditto.
	(wl-message-sort-field-list): Ditto.
	(wl-message-ignored-field-list): Ditto.
	(wl-message-visible-field-list): Ditto.
	(wl-interactive-send): Ditto.
	(wl-summary-move-order): Ditto.
	(wl-auto-select-first): Ditto.
	(wl-auto-select-next): Ditto.
	(wl-interactive-save-folders): Ditto.

	* wl-folder.el (wl-folder): Moved position of `wl-folder-init';
	Initialization codes are moved from wl-local-folder-init.
	(wl-local-folder-init): Follow the change above.
	(wl-folder-init): Call `wl-acap-init' when `wl-use-acap' is non-nil.

	* wl-acap.el: New file.

	* Version number is increased to 2.7.3.

2001-08-21  Kenichi OKADA  <okada@opaopa.org>

	* wl-addrmgr.el (wl-addrmgr-apply-exec): Fix for already-list.

2001-08-21  Kenichi OKADA  <okada@opaopa.org>

	* wl-addrmgr.el (wl-addrmgr-draw): Fix for already-list.
	(wl-addrmgr-address-entry-list): Ditto.

2001-08-21  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-e21.el (wl-draft-mode-map): Removed binding for
	`wl-draft-insert-x-face-field'.

	* wl-mule.el (wl-draft-mode-map): Ditto.

	* wl-xmas.el (wl-draft-mode-map): Ditto.

	* wl-vars.el (wl-cs-noconv): Ignore nemacs.
	(wl-cs-autoconv): Ditto.
	(wl-cs-local): Ditto.
	(wl-use-scoring): Ditto.
	(wl-mime-charset): Ditto.
	(wl-folder-check-async): Ditto.

	* wl.el (toplevel): Ignore nemacs and tm.
	(wl-exit): Ditto.

	* wl-summary.el (wl-summary-setup-mouse): Ignore nemacs.
	(wl-summary-mode-map): Added binding for `wl-addrmgr'.
	(wl-summary-edit-addresses-subr): Use wl-address-add-or-change
	instead of wl-address-petname-add-or-change.
	(wl-summary-edit-addresses-subr): Use wl-address-delete
	instead of wl-address-petname-delete.

	* wl-util.el (wl-as-coding-system): Ignore nemacs.

	* wl-mime.el (wl-draft-preview-message): Kill raw preview buffer
	if error occured.

	* wl-message.el (require): Remove tm support.

	* wl-highlight.el (defin-hilit, defun-hilit2): Eliminated.

	* wl-folder.el (wl-folder-setup-mouse): Ignore nemacs.
	(wl-folder-jump-to-current-entity): Ditto.
	(wl-folder-mode-map): Added binding for `wl-addrmgr'.

	* wl-e21.el (wl-draft-key-setup): Replaced binding (C-cC-a)for
	`wl-draft-insert-x-face-field' to `wl-addrmgr'.
	Changed binding for `wl-draft-insert-x-face-field' to C-cC-x.

	* wl-mule.el (wl-draft-key-setup): Ditto.

	* wl-xmas.el (wl-draft-key-setup): Ditto.

	* wl-draft.el (toplevel): Added autoload setting for wl-addrmgr.
	(wl-draft-std11-parse-addresses): New function.
	(wl-draft-parse-mailbox-list): Use it.
	(wl-draft): Ignore nemacs.
	(wl-draft-reedit): Ditto.

	* wl-addrmgr.el: New file.
	(Original is wl-rcpt.el written by
	"Kitamoto Tsuyoshi <tsuyoshi.kitamoto@city.sapporo.jp>".
	Thanks Kitamoto-san.)

	* wl-address.el (wl-address-make-address-list): Modified parsing
	process.
	(wl-address-delete): Renamed from `wl-address-petname-delete';
	Modify wl-address-list too.
	(wl-address-add-or-change): Renamed from
	`wl-address-petname-add-or-change'; Rewote for wl-addrmgr.

2001-08-15  YAMASHITA Junji <ysjj@unixuser.org>

	* wl-highlight.el (wl-highlight-summary-current-line):
	  Work with transient-mark-mode

2001-08-15  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.7.2.

	* wl.el (wl-plugged-dop-queue-info): Use elmo-dop-queue-method-name
	instead of elmo-dop-queue-method.

2001-08-06  SAITO Atsunori <sai@yedo.com>

	* wl-vars.el (wl-ldap-objectclass): New user option.

	* wl-address.el (wl-ldap-make-filter): Use it.

2001-08-03  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-fldmgr.el (wl-fldmgr-rename): Fixed second argument.

2001-08-02  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-folder.el (wl-folder): redisplay after folder insertion.

	* wl-demo.el (wl-demo): Don't delete toolbar on emacs-21.

	* wl-summary.el (wl-summary-sync-update):
	Change status mark only when new-msgdb exists.
	(Advised by Akihiro MOTOKI <mokkun@iname.com>.)

2001-07-23  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-open-folder): New function.
	(wl-summary-goto-folder-subr): Use it.
	(wl-summary-mark-as-important): Fix;
	Encache only when no cache exists.

2001-07-17  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-yank-from-mail-reply-buffer):
	Use with-current-buffer.

2001-07-14  Hiroya Murata  <lapis-lazuli@pop06.odn.ne.jp>

	* wl-score.el (wl-score-insert-help): Check `wl-message-buffer'
	before call `get-buffer'. Fixed parenthesis.
	(wl-score-get-header-entry): Clear message and help window when
	keyboard quit.
	(wl-score-edit-insert-header): Ditto. 

2001-07-14  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-message-mail-p): Test resent-to: field.
	(Fix by Peter Møller Neergaard <turtle@bu.edu>)
	(wl-default-draft-cite): Fix.

	* wl-score.el (wl-score-insert-help): Fixed parenthesis.
	(Pointed out by ABE Yasushi <yasushi@stbbs.net>)

2001-07-12  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-message.el (wl-message-prev-page): Do same bahavior
	as summary when it is called in the message buffer.
	(wl-message-next-page): Ditto.

2001-07-09  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-forward): Use cache if it is not
	section cache.

2001-07-05  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el: Changed file coding system to ISO-2022-JP.
	Removed redundant require of elmo-vars.
	(wl-biff-state-indicator-on): Changed default value for
	xemacs with non-mule environment.

	* wl-summary.el (wl-summary-exec-subr): Fixed problem when
	wl-message-buffer is nil;
	Hide progress bar after moving messages.

2001-07-04  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-exec-subr): Delete message buffer only when
	message at cursor point is deleted.

2001-07-02  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el: Changed file coding system to euc-japan.
	Added -*-coding:-*- magic to the first line.

	* wl-summary.el (wl-summary-search-by-subject): Fixed bug;
	Search parent from the first message.

	* Version number is increased to 2.7.1.

2001-06-28  OHASHI Akira  <bg66@koka-in.org>

	* wl-vars.el: Fix file coding system to ISO-2022-JP.

2001-06-27  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-exec-subr): Hide message buffer after
	refile/delete execution.

	* wl-vars.el (wl-summary-fix-timezone): Changed default value to nil;
	Fixed docstring.

2001-06-26  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync-update): If sync-result is non-nil,
	do update process;
	Don't update marks when update process is interrupted.

2001-06-25  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-reply): Fixed problem when
	wl-draft-use-frame is non-nil.
	(wl-summary-forward): Ditto.

	* wl-folder.el (wl-folder-sync-entity): Bind wl-summary-use-frame
	as nil.
	(wl-folder-mark-as-read-all-entity): Ditto.
	(wl-folder-prefetch-entity): Ditto.

	* wl.el (wl): Check environment before wl-init.

	* wl-summary.el (wl-summary-collect-unread): Eliminated.
	(wl-summary-mark-as-read-all): Use elmo-folder-list-unreads
	instead of wl-summary-collect-unread.
	(wl-summary-reply): Split message window.

2001-06-21  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl): Set custom-manual link as "wl-ja"
	only if current language environment is japanese,

	* wl-folder.el (wl-folder-jump-to-current-entity): Call
	wl-folder-select-buffer when wl-summary-use-frame is non-nil.
	(wl-folder-goto-folder-subr): Ditto.

	* wl-draft.el (wl-draft-dispatch-message): Call
	`elmo-file-cache-get-path'.

2001-06-20  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-cursor-move): If return value of
	wl-summary-next-message is not number, don't jump.

2001-06-19  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-buffer-next-message-function): New
	variable.
	(wl-summary-next-message): Call wl-summary-buffer-next-message-function
	if it is bound.

	* wl-e21.el (wl-plugged-set-folder-icon): Don't propertize image
	string.

	* wl.el (wl-plugged-dop-queue-info): Fix to check stream-type.
	(wl-plugged-drawing): Ditto.

2001-06-18  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-util.el (wl-biff-check-folder): Use own buffer for pop3 biff
	process.
	(wl-biff-check-folder-async): Enclose wl-biff-check-folder
	with unwind-protect.

	* wl.el (wl-init): Require mime-setup.
	(wl-check-environment): Don't require mime-setup.

	* wl-util.el (wl-biff-check-folder): Use elmo-folder-type-internal
	instead of elmo-folder-type.

	* wl-message.el (wl-message-buffer-prefetch-debug): Set default
	value as nil.

2001-06-15  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.7.0.

	* wl-version.el (wl-version): Changed codename.

	* wl-summary.el (wl-summary-delete-cache): Fixed.

	* wl-folder.el (wl-folder-guess-mailing-list-by-folder-name):
	Workaround for net folders.
	(According to the patch from ABE Yasushi <yasushi@stbbs.net>)

	* wl-vars.el (wl-folder-process-duplicates-alist): Changed default
	value to nil (According to the patch from
	Yoichi NAKAYAMA <yoichi@eken.phys.nagoya-u.ac.jp>).

	* wl-util.el (wl-biff-check-folder): Call elmo-folder-check instead
	of elmo-folder-close.

2001-06-06  Peter Møller Neergaard <turtle@bu.edu>

	* wl-summary.el (wl-summary-resend-bounced-mail): Modified regexp
	for postfix.

2001-06-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-resend-message): Fixed.

	* wl-draft.el (wl-draft-edit-string): Fetch From: field value and
	Call wl-draft with `from' argument if its address is included in
	`wl-user-mail-address-list'.
	(wl-draft): Added `from' argument.

	* wl.el (wl-exit): Delete current frame if wl-folder-use-frame is
	non-nil.
	(wl): Don't show demo if wl-demo is nil.

	* wl-summary.el (wl-summary-exit): Renamed wl-folder-use-frame to
	wl-summary-use-frame.

	* wl-vars.el (wl-summary-use-frame): New user option.
	(wl-folder-use-frame): Changed docstring.

	* wl-folder.el (wl-folder): Make new frame if wl-folder-use-frame is
	non-nil.
	(wl-folder-select-buffer): Renamed wl-folder-use-frame to
	wl-summary-use-frame.

	* wl-vars.el (wl-folder-use-frame): New user option.

	* wl-summary.el (wl-summary-exit): Back to folder frame if
	wl-folder-use-frame is non-nil.
	(wl-summary-redisplay-internal): Ignore cache if current folder
	is draft folder,
	(wl-summary-redisplay-no-mime): Ditto.
	(wl-summary-redisplay-all-header): Ditto.

	* wl-folder.el (wl-folder-select-buffer): Switch to other frame
	if wl-folder-use-frame is non-nil.

2001-06-06  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync-update): Bind
	elmo-folder-update-threshold.
	(wl-summary-mark-as-important): Enclosed server mark processing
	with `save-match-data'.

	* wl-mime.el (wl-mime-setup): Set mime-setup-signature-key-alist
	only when it is already defined.

2001-05-24  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-expire.el (wl-expire-archive-get-folder): Fixed problem that
	name of folder exclude localdir is wrong.
	* wl-folder.el (wl-folder-sync-entity):
	Set `wl-summary-always-sticky-folder-list' as nil.
	(wl-folder-mark-as-read-all-entity): Ditto.
	(wl-folder-prefetch-entity): Ditto.

2001-05-23  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-draft): use `wl-summary-write-current-folder'
	instead of `wl-summary-write-current-newsgroup'.

2001-05-19  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-summary.el (wl-summary-auto-select-msg-p): New function.
	(wl-summary-goto-folder-subr): If `wl-auto-select-first' is
	non-nil and selected message is important, do not display.

2001-05-16  Kenichi OKADA  <okada@opaopa.org>

	* wl.el (wl): Omit `wl-check-environment' if wl-init is nil.

2001-05-10  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl.el (wl-plugged-dop-queue-info): Fixed for new queue structure.

	* wl-summary.el (wl-summary-mark-as-important): Set message number
	using wl-summary-message-number.

2001-05-10  Hiroya Murata  <lapis-lazuli@pop06.odn.ne.jp>

	* wl-summary.el (wl-summary-exec-subr): Fixed problem when
	destination folder is 'null.

2001-05-09  Kenichi OKADA  <okada@opaopa.org>

	* wl-folder.el (wl-folder-guess-mailing-list-by-refile-rule-subr):
	New function.
	(wl-folder-guess-mailing-list-by-folder-name-subr): New function.
	(wl-folder-guess-mailing-list-by-refile-rule): Fix for multi folder.
	(wl-folder-guess-mailing-list-by-folder-name): Ditto.

2001-05-08  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-mime.el (wl-mime-setup): Added setting for
	`mime-setup-signature-key-alist' to avoid overriding key bind for
	`wl-draft-send'.

	* wl-e21.el (wl-draft-overload-functions): Don't override key binding
	for `wl-draft-send'.
	* wl-mule.el (wl-draft-overload-functions): Ditto.
	* wl-xmas.el (wl-draft-overload-functions): Ditto.
	* wl-draft.el (wl-draft-send): Ditto.

	* wl-message.el (wl-message-display-internal):
	Fixed typo (elmo-fetch-threshold->elmo-message-fetch-threshold).
	(Patch is provided by <kita@coe.nttdata.co.jp>).

2001-05-09  Kenichi OKADA  <okada@opaopa.org>

	* wl-folder.el (wl-folder-guess-mailing-list-by-refile-rule): Fix.

2001-05-08  Kenichi OKADA  <okada@opaopa.org>

	* wl.el (wl): Fix for wl-demo.

2001-05-08  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-supersedes-message): Use 'message-buf'

2001-05-08  Kenichi OKADA  <okada@opaopa.org>

	* wl-folder.el (wl-folder-prefetch-entity): Use
	`wl-folder-get-elmo-folder'.
	(wl-folder-count-incorporates): Do not use
	`wl-folder-get-elmo-folder'.

2001-05-08  Kenichi OKADA  <okada@opaopa.org>

	* wl-xmas.el (wl-plugged-set-folder-icon): Use `elmo-folder-type'
	instead of `elmo-folder-get-type'.

2001-05-01  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-summary.el (wl-summary-write-current-folder): Set cursor
	position on Subject: field.
	(Advised by Mito <mit@nines.nec.co.jp>)

2001-04-27  Hiroya Murata  <lapis-lazuli@pop06.odn.ne.jp>

	* wl-folder.el (wl-folder-prefetch-entity): Use
	`wl-folder-get-elmo-folder'.

2001-04-26  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-folder-process-duplicates-alist): New user option.

	* wl-summary.el (wl-summary-buffer-set-folder): Set up
	`process-duplicates' slot.

	* wl-highlight.el (wl-highlight-message): Don't highlight as signature
	if detection failed.

2001-04-25  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-version-status): Set to "alpha".

2001-04-23  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-set-message-buffer-or-redisplay):
	Check wl-message-buffer lives before set-buffer.

2001-04-22  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-expire.el (wl-summary-expire): Fixed problem that do not expire
	called in folder mode.
	* wl-var.el (wl-summary-exit-pre-hook): New variable.
	* wl-summary.el (wl-summary-exit-pre-hook): Run
	`wl-summary-exit-pre-hook' before exit summary mode.

2001-04-22  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-version-status): New variable.
	(wl-version-status-alist): Removed.
	(wl-version-status): Rule included.

2001-04-19  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-folder-mime-charset-alist): Setup default value for
	@sponichi.

	* wl-draft.el (wl-draft-insert-current-message): Fixed problem
	when `mail-reply-buffer' is buffer-local variable.
	(Reported by <kita@coe.nttdata.co.jp>).

2001-04-17  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (toplevel): Require 'elmo-util.

2001-04-16  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-message-regexp): Fixed number regexp.
	(All other related portions are changed)

	* wl.el (wl-plugged-change): Use '<' instead of '<='.

	* wl-folder.el (wl-folder-check-one-entity): Fixed last change again.

2001-04-14  Hiroya Murata  <lapis-lazuli@pop06.odn.ne.jp>

	* wl-folder.el (wl-folder-check-one-entity): Fixed last change.

2001-04-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-target-mark-reply-with-citation): Fixed.
	Delete other windows to avoid an error.
	Use `point-marker' instead of `point' to remember the start point
	of body.

	* wl.el (wl-plugged-toggle-all): Fixed argument for `elmo-set-plugged'.

	* wl-folder.el (wl-folder-check-one-entity): Adjust unread message
	number not to exceed all message number.

2001-04-12  Yoichi NAKAYAMA  <yoichi@eken.phys.nagoya-u.ac.jp>

	* wl-e21.el (wl-biff-init-icons): Don't use `call-interactively' to
	call the command `wl-biff-check-folders' in `mode-line-mouse2-map'.

2001-04-09  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync-force-update): Added argument
	no-check.
	(wl-summary-sync-update): Ditto.
	(wl-summary-goto-folder-subr): Call wl-summary-sync-force-update
	with `no-check'.

	* wl-message.el (wl-message-buffer-prefetch-timer): New variable.
	(wl-message-buffer-prefetch-next): Don't run timer if timer is
	already running.

2001-04-07  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-expire.el (wl-expire-archive-get-folder): Added argument
	`dst-folder-arg'.
	(wl-expire-archive-number1): Diito.
	(wl-expire-archive-number2): Diito.
	(wl-expire-archive-Date): Diito.
	(wl-archive-number1): Diito.
	(wl-archive-number2): Diito.
	(wl-archive-date): Diito.
	(wl-archive-folder-p): New function.
	(wl-summary-expire): Support of expand folder name at
	wl-expire-alist.
	* wl-util.el (wl-expand-newtext): Renamed from
	`wl-refile-expand-newtext'.

2001-04-05  Hiroya Murata  <lapis-lazuli@pop06.odn.ne.jp>

	* wl-summary.el (wl-summary-prefetch-msg): Fiexd. Call
	`elmo-msgdb-overview-get-entity' with `msgdb' instead of
	`(elmo-msgdb-get-overview msgdb)'.
	(wl-summary-prefetch): Bind match data before call
	`wl-summay-prefetch-msg'.
	(wl-summary-goto-folder-subr): Call `wl-summary-toggle-disp-msg' with
	'off if `wl-summary-buffer-disp-msg' is non-nil.
	Fixed problem that couldn't show only one new or unread message when
	enter folder.
	(wl-summary-reply): Don't call `split-window-vertically' and other
	window.

2001-04-03  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-expire.el (wl-expire-refile): Fixed.

2001-04-02  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-biff-unnotify-hook): New variable.

	* wl-util.el (wl-biff-notify): Run `wl-biff-unnotify-hook' when
	biff notification is removed.

	* wl.el (wl): Changed position of `elmo-init'.

	* wl-draft.el (wl-default-draft-cite): Use date field
	on the citation buffer.

	* wl-vars.el (wl-shimbun-folder-icon): New variable.

	* wl-xmas.el (wl-folder-internal-icon-list): Added
	`wl-folder-shimbun-image'.

	* wl-e21.el (wl-folder-internal-icon-list): Added
	`wl-folder-shimbun-image'.

2001-03-31  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl.el (wl-init): Eliminated argument.
	(wl): Rewrite.

	* wl-summary.el (wl-summary-prefetch-msg): Use `elmo-message-encache'.
	(wl-summary-sync-update): Use Use `elmo-folder-msgdb'
	instead of `elmo-folder-msgdb-internal'.
	(wl-summary-sync-update): Ditto.
	(wl-summary-flush-pending-append-operations): Eliminated.
	(wl-summary-delete-all-msgs): Set msgdb instead of folder.
	(wl-summary-goto-folder-subr): Set load-msgdb argument of
	`elmo-folder-open'.

	* wl-mime.el (wl-summary-burst): Fixed.

	* wl-folder.el (wl-folder-info-save): Check data type.

	* wl-expire.el (wl-expire-delete): Set msgdb instead of folder.
	(wl-expire-refile-with-copy-reserve-msg): Use `elmo-folder-msgdb'
	instead of `elmo-folder-msgdb-internal'.
	(wl-expire-hide): Ditto.


	* wl-draft.el (wl-draft): Removed argument for `wl-init'.

2001-03-20  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-folder.el (wl-folder-write-current-folder): Support petname.

2001-03-11  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-draft-do-fcc): Fix for `wl-draft-use-cache'

2001-03-11  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-folder.el (wl-folder-guess-mailing-list-by-folder-name):
	Fixed `match-beginning' argument mismatch.

2001-03-05  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Reset `tab-width' and `tab-stop-list' to
	the default value.

2001-03-01  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-folder.el (wl-make-plugged-alist): Use `wl-nntp-posting-port'
	instead of `elmo-nntp-default-port'.

	* wl-vars.el: Fixed some doc strings.

2001-02-28  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-prefetch-msg): Use
	`elmo-msgdb-overview-get-entity' instead of `assoc'.

	* wl-vars.el: Define *-func as obsolete variable using
	`elmo-define-obsolete-variable'.

	* wl-message.el (wl-message-buffer-prefetch-threshold): Eliminated.
	(wl-message-buffer-prefetch): Use `elmo-message-fetch-threshold'
	instead of `wl-message-buffer-prefetch-threshold'.

	* wl-summary.el (wl-summary-buffer-message-redisplay-func): Removed.

	* wl-vars.el (wl-cache-prefetch-get-next-func): Ditto.

	* wl-draft.el (wl-caesar-region-func): Ditto.

	* wl-summary.el (wl-summary-exec-subr): Fixed `copy';
	Keep unread status in elmo-folder-move-messages.
	(wl-summary-sync-update): Set `wl-summary-buffer-msgdb'.

2001-02-27  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-summary.el (wl-summary-buffer-exit-function): Renamed from
	`wl-summary-buffer-exit-func'
	(wl-summary-buffer-message-redisplay-function): Renamed from
	`wl-summary-buffer-message-redisplay-func'
	(wl-summary-buffer-next-folder-function): Renamed from
	`wl-summary-buffer-next-folder-func'.
	(wl-summary-buffer-prev-folder-function): Renamed from
	`wl-summary-buffer-prev-folder-func'.
	(wl-summary-get-petname-function): Renamed from
	`wl-summary-get-petname-func'.

	* wl-score.el (wl-score-edit-exit-function): Renamed from
	`wl-score-edit-exit-func'.

	* wl-message.el (wl-message-buffer-prefetch-get-next-function):
	Renamed from `wl-message-buffer-prefetch-get-next-function'.

	* wl-util.el (wl-load-profile-function): Renamed from
	`wl-load-profile-func'.

	* wl-folder.el (wl-folder-completion-function): Renamed from
	`wl-folder-completion-func'.
	(wl-folder-init-function): Renamed from `wl-folder-init-func'.

	* wl-vars.el (wl-expire-archive-get-folder-function): Renamed from
	`wl-expire-archive-get-folder-func'.
	(wl-draft-send-function): Renamed from `wl-draft-send-func'.
	(wl-draft-send-mail-function): Renamed from
	`wl-draft-send-mail-func'.
	(wl-draft-send-news-function): Renamed from
	`wl-draft-send-news-func'.
	(wl-fldmgr-sort-function): Renamed from `wl-fldmgr-sort-func'.
	(wl-generate-mailer-string-function): Renamed from
	`wl-generate-mailer-string-func'.
	(wl-highlight-signature-search-function): Renamed from
	`wl-highlight-signature-search-func'.
	(wl-highlight-x-face-function): Renamed from
	`wl-highlight-x-face-func'
	(wl-print-buffer-function): Renamed from `wl-print-buffer-func'.
	(wl-ps-print-buffer-function): Renamed from
	`wl-ps-print-buffer-func'
	(wl-summary-from-function): Renamed from `wl-summary-from-func'.
	(wl-summary-subject-function): Renamed from `wl-summary-subject-func'.
	(wl-summary-subject-filter-function): Renamed from
	`wl-summary-subject-filter-func'.

	* wl-draft.el (wl-draft-queue-flush-send-function): Renamed from
	`wl-draft-queue-flush-send-func'
	(wl-draft-cite-function): Renamed from
	`wl-draft-cite-func'

	* wl-address.el (wl-address-init-function): Renamed from
	`wl-address-init-func'.

2001-02-27  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-queue-flush): Don't call
	`elmo-dop-unlock-message'.
	* wl-draft.el (wl-draft-queue-append): Don't call
	`elmo-dop-lock-message'.

	* wl-summary.el (wl-summary-buffer-msgdb): Revival (for compatibility).
	(wl-summary-buffer-folder-name): Ditto.
	(wl-summary-message-regexp): Added '-' (all other related portions
	are changed).
	(wl-summary-goto-folder-subr): Set wl-summary-buffer-msgdb and
	wl-summary-buffer-folder-name.

2001-02-26  "A. SAGATA" <sagata@nttvdt.hil.ntt.co.jp>

	* wl-folder.el (wl-folder-check-one-entity): Fixed problem that
	the number of mails in the folder buffer is not updated by wl-biff.

2000-02-26  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-default-subject-filter): Fix for `Re>'.
	* wl-vars.el (wl-summary-search-parent-by-subject-regexp): Ditto.

2001-03-01  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-next-message):
	Return next message number when wl-summary-move-order is nil.

2001-02-28  Akihiro MOTOKI <mokkun@iname.com>

	* wl-summary.el (wl-summary-move-spec-plugged-alist): Renamed from
	`wl-summary-move-spec-alist'.
	(wl-summary-move-spec-unplugged-alist): New variable
	(Move spec for unplugged status).
	(wl-summary-next-message): Use `wl-summary-move-spec-plugged-alist'
	if plugged, `wl-summary-move-spec-unplugged-alist' is unplugged.

2001-03-01  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-e21.el (wl-draft-overload-menubar): "FCC" -> "Fcc".
	* wl-mule.el (wl-draft-overload-menubar): Ditto.

2001-02-28  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-mime.el (wl-draft-preview-message): Use `function' instead of
	simple quotation to quote the anonymous function.
	* tm-wl.el (wl-draft-preview-message): Ditto.

2001-02-25  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-highlight.el (wl-highlight-summary-displaying): Optimize;
	Eliminate redundant `save-excursion'.
	(wl-highlight-summary-current-line): Ditto.

	* wl-highlight.el (wl-highlight-summary-current-line): Avoid
	accessing match data when `looking-at' failed.

	* wl-draft.el (wl-draft-delete): Use `match-string' instead of
	`elmo-match-string' where users don't care about the speed.
	(wl-draft-save): Ditto.

2001-02-24  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-util.el (wl-regexp-opt): New function.

	* wl-summary.el (wl-summary-delete-messages-on-buffer): Delete
	number from `wl-summary-buffer-number-list'.
	(wl-summary-goto-folder-subr): Load msgdb before resuming summary view;
	Call `wl-summary-rescan' if `wl-summary-cache-use' is nil.
	(wl-summary-move-spec-alist): Changed default setting.

2001-02-23  Yoichi NAKAYAMA  <yoichi@eken.phys.nagoya-u.ac.jp>

	* wl-vars.el (wl-biff-notify-hook): New hook.
	* wl-util.el (wl-biff-notify): Run `wl-biff-notify-hook' at
	the arrival of new mail.
	(Based on the patch from Hironori Fukuchi <nory@valis.co.jp>
	and advice by Yuuichi Teranishi  <teranisi@gohome.org>)

2001-02-23  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-default-get-next-msg): Fix (num => msg).

2001-02-22  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-default-get-next-msg): Fix.

	* Version number is increased to 2.5.8.

	* wl-thread.el (toplevel): require 'cl.
	(wl-thread-resume-entity): Call wl-thread-make-number-list.
	(wl-thread-make-number-list): New function.
	(wl-thread-entity-make-number-list-from-children): Ditto.
	(wl-thread-entity-insert-as-top): Update wl-summary-buffer-number-list.
	(wl-thread-entity-insert-as-children): Likewise.
	(wl-thread-delete-message): Likewise.
	(wl-meaning-of-mark): Eliminated.
	(wl-thread-next-failure-mark-p): Ditto.
	(wl-thread-entity-get-mark): Ditto.
	(wl-thread-meaning-alist-get-result): Ditto.
	(wl-thread-entity-check-prev-mark): Ditto.
	(wl-thread-entity-check-next-mark): Ditto.
	(wl-thread-entity-check-prev-mark-from-older-brother): Ditto.
	(wl-thread-entity-get-prev-marked-entity): Ditto.
	(wl-thread-get-prev-unread): Ditto.
	(wl-thread-jump-to-prev-unread): Ditto.
	(wl-thread-get-next-unread): Ditto.
	(wl-thread-jump-to-next-unread): Ditto.
	(wl-thread-entity-check-next-mark-from-younger-brother): Ditto.
	(wl-thread-entity-get-next-marked-entity): Ditto.

	* wl-summary.el (wl-summary-buffer-number-list):
	New bufer-local variable.
	(wl-summary-switch-to-clone-buffer): Clone
	`wl-summary-buffer-number-list'.
	(wl-summary-goto-folder-subr): Use `wl-summary-next-message'.
	(wl-summary-cursor-move-regex): Eliminated.
	(wl-summary-cursor-up): Rewrite.
	(wl-summary-cursor-down): Ditto.
	(wl-summary-mode-spec-alist): New variable.
	(wl-summary-next-message): New inline function.
	(wl-summary-cursor-move): New function.
	(wl-summary-default-get-next-msg): Rewrite.
	(wl-summary-sync-all-init): Setup `wl-summary-number-list'.
	(wl-summary-rescan): Ditto.
	(wl-summary-sync-all-init): Ditto.
	(wl-summary-goto-folder-subr): Call `wl-summary-make-number-list' if
	summary is not thread view.
	(wl-summary-sync-update): Ditto.
	(wl-summary-rescan): Ditto.
	(wl-summary-make-number-list): New function.

	* wl-draft.el: "FCC" -> "Fcc".

2001-02-21  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-highlight.el (wl-highlight-summary-window):
	Call `set-buffer-modified-p'.

	* wl.el (wl-init): Don't call `elmo-crosspost-message-alist-load'.
	(wl): Call `elmo-init' and fix.

	* wl-draft.el, wl-folder.el, wl-summary.el, wl-util.el:
	Use new variables.

	* wl-folder.el (wl-folder): Call `sit-for' before `wl-folder-init'.

2001-02-20  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-biff-notify-hook): Set default value as '(beep).

2001-02-20  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo-image-type-alist): Use ' instead of `.

2001-02-20  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-e21-setup-draft-toolbar): Don't refer to
	`wl-use-toolbar' nor `display-graphic-p'.
	(wl-e21-setup-message-toolbar): Ditto.
	(wl-e21-setup-summary-toolbar): Ditto.
	(wl-e21-setup-folder-toolbar): Ditto.

	(wl-biff-init-icons): Rewrite using `wl-e21-display-image-p'.
	(wl-plugged-init-icons): Ditto.

	(wl-folder-init-icons): Use `wl-e21-display-image-p' instead of
	`display-graphic-p'.
	(wl-plugged-set-folder-icon): Ditto.
	(wl-highlight-plugged-current-line): Ditto.
	(wl-highlight-folder-current-line): Ditto.
	(wl-e21-highlight-folder-group-line): Ditto.
	(wl-e21-setup-toolbar): Ditto.
	(wl-e21-display-image-p): New macro.

	* wl-demo.el (wl-demo): Simplified.
	(wl-demo-image-type-alist): Use `image-type-available-p' for
	checking whether the image type `xbm' is available.

2000-02-20  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync): Rename 'all-shown' to `all-visible'.
	(wl-summary-input-range): Ditto.

2001-02-20  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-edit-addresses): Use
	`wl-summary-get-original-buffer'
	(wl-summary-mark-as-unread): Don't call `wl-summary-set-crosspost'.
	(wl-summary-jump-to-msg-by-message-id-via-nntp):
	Use `elmo-nntp-parse-newsgroup' instead of `wl-parse-newsgroups'.
	(wl-summary-get-newsgroups): Eliminated.
	(wl-summary-set-crosspost): Ditto.
	(wl-summary-is-crosspost-folder): Ditto.
	(wl-crosspost-alist-load): Ditto.
	(wl-crosspost-alist-save): Ditto.

	* wl-folder.el (wl-folder-create-newsgroups-hashtb): Call
	`elmo-setup-subscribed-newsgroups' instead of
	`elmo-nntp-make-groups-hashtb'.
	(wl-folder-suspend): Call `elmo-crosspost-message-alist-save'
	instead of `wl-crosspost-alist-save'.

	* wl-mime.el (wl-summary-burst): Use `elmo-folder-writable-p' instead
	of `elmo-folder-message-appendable-p'.
	(wl-mime-header-presentation-method): Eliminated.

	* wl-message.el (wl-message-prev-page): Don't pass -1 to `recenter'.
	(Error occurs in emacs21).

	* wl-draft.el (wl-draft-queue-flush): Fix (fetch message to
	the current buffer).

	* wl.el (wl-save-status): Call `elmo-crosspost-message-alist-save'
	instead of `wl-crosspost-alist-save'.
	(wl-init): `elmo-crosspost-message-alist-load'
	instead of `wl-crosspost-alist-load'

	* wl-util.el (wl-parse): Eliminated (Renamed to `elmo-parse').
	(wl-parse-newsgroups): Likewise.
	(wl-biff-notify): Run `wl-biff-notify-hook'.

2001-02-21  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-summary-lazy-highlight): New variable.

	* wl-summary.el (wl-summary-mode): Set up window-scroll-functions
	when `wl-summary-lazy-highlight' is non-nil.
	(wl-summary-goto-folder-subr): Highlight only when
	`wl-summary-lazy-highlight' is non-nil.

	* wl-highlight.el (wl-highlight-summary): Fixed docstring;
	Don't display progress and highlight temp-mark when
	`wl-summary-lazy-highlight' is non-nil.
	(wl-highlight-summary-window): New function.
	(Based on the patch from Akihiro MOTOKI <mokkun@iname.com>)

2000-02-20  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-sync): Change `all-visible'
	from `all-shown'
	(wl-summary-input-range): Ditto.

2001-02-20  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-highlight-folder-current-line): Call
	`wl-folder-init-icons' when folder icons have not been initialized.

	* wl-vars.el (wl-demo-display-logo): Add `bitmap' to the selection.

	* wl-demo.el: Work also with BITMAP-MULE under Emacs 21.
	(wl-demo-image-type-alist): New macro.

2001-02-19  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-biff-init-icons): Don't generate icons if the
	display does not support graphics.
	(wl-plugged-init-icons): Ditto.
	(wl-folder-init-icons): Ditto.

	* wl-demo.el (wl-demo): Chech closely whether the display
	supports graphics.

2001-02-09  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-get-original-buffer): New function.
	(wl-summary-set-crosspost): Use it.
	(wl-summary-target-mark-uudecode): Ditto.
	(wl-summary-reedit): Ditto.
	(wl-summary-resend-bounced-mail): Ditto.
	(wl-summary-update-crosspost): Eliminated (It may be incorporated
	into `elmo-folder-append-msgdb' method of elmo-nntp-folder class).

	* wl-message.el (wl-message-buffer-display): Added argumnet `unread'.
	(wl-message-display-internal): Ditto.

2001-02-07  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-parse-msg-id-list-string): Fix.

2001-02-06  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-save-view): Renamed from
	`wl-summary-save-status'.

2000-02-20  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-sync): Added `all-shown'

2000-02-20  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-input-range): Added `all-shown'

2000-02-19  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-sync-update3): Bind 'nohide as t if sync-all.

2001-02-19  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-highlight.el (wl-highlight-summary-line-string): Use
	`zerop' instead of `= 0'.
	(wl-highlight-summary): Use `zerop' instead of `eq 0'.

	* wl-template.el (wl-template-next): Use `=' instead of `eq'
	for comparing numbers.
	(wl-template-prev): Use `zerop' instead of `eq 0'.

	* wl-draft.el (wl-draft-insert-current-message): Use
	`with-current-buffer' instead of `save-excursion'.
	Use `zerop' instead of `eq 0'.

2001-02-17  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-draft-insert-ccs): New function.
	(wl-draft): Use `wl-draft-insert-ccs' for Bcc and FCC.
	* wl-vars.el (wl-draft-delete-myself-from-bcc-fcc): New variable.

2001-02-15  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-cache-prefetch-message): Fixed last change.

2001-02-14  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-expire.el (wl-expire-refile): Don't call
	elmo-msgdb-add-msgs-to-seen-list;
	Pass wl-expire-add-seen-list to elmo-folder-move-messages.
	(wl-expire-refile-with-copy-reserve-msg): Ditto.

2001-01-19  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-message.el (wl-message-prev-page): Ignore errors while
	scroll-down.

2001-01-14  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-mime.el: Use elmo-original-message-mode instead of
	mmelmo-original-mode.

	* wl-fldmgr.el: Use `wl-folder-get-elmo-folder' instead of
	`elmo-folder-get-spec';
	(wl-fldmgr-add-completion-all-completions):
	Use `elmo-folder-list-subfolders' instead of `elmo-list-folders'.

	* wl-e21.el (wl-plugged-set-folder-icon): Use `elmo-folder-type' instead
	of `elmo-folder-get-type'.

	* wl-draft.el: Use `wl-folder-get-elmo-folder' instead of
	`elmo-folder-get-spec';
	Use `elmo-folder-msgdb-path' instead of `elmo-msgdb-expand-path';
	Use `elmo-folder-append-message' instead of `elmo-append-msg';
	Use `elmo-folder-list-messages' instead of `elmo-list-folder';
	Use `elmo-message-fetch' instead of `elmo-read-msg-with-cache' or
	`elmo-read-msg-no-cache';
	Use `elmo-message-file-name' instead of `elmo-get-msg-filename';
	Use `elmo-folder-delete-messages' instead of `elmo-delete-msgs'.
	(wl-default-draft-cite): Use `elmo-msgdb-overview-get-entity'.
	(wl-draft-dispatch-message): Use `elmo-file-cache-save' instead of
	`elmo-cache-save';
	(wl-draft-reedit): Use `elmo-message-file-name'.

	* wl-expire.el: Use `elmo-folder-name-internal';
	Use `elmo-folder-list-messages' instead of `elmo-list-folder';
	Use macro `wl-summary-buffer-msgdb' instead of variable
	`wl-summary-buffer-msgdb';
	Use `wl-folder-get-elmo-folder' instead of `elmo-folder-get-spec';
	Use macro `wl-summary-buffer-folder-name' instead of variable
	`wl-summary-buffer-folder-name'.
	* wl-score.el: Likewise.

	* wl-message.el: Rewrite for new message buffer cache mechanism.
	(wl-message-buffer-cache-buffer-get): New macro.
	(wl-message-buffer-cache-folder-get): Ditto.
	(wl-message-buffer-cache-message-get): Ditto.
	(wl-message-buffer-cache-entry-make): Ditto.
	(wl-message-buffer-cache-hit): Ditto.
	(wl-message-buffer-cache-sort): New function.
	(wl-message-buffer-cache-add): Ditto.
	(wl-message-buffer-cache-delete): Ditto.
	(wl-message-buffer-cache-clean-up): Ditto.
	(wl-message-buffer-window): Rewrite.
	(wl-message-select-buffer): Renamed from `wl-select-buffer'.
	(wl-message-buffer-display): New function.
	(wl-message-display-internal): New function.

2001-01-12  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-folder.el:	Use `elmo-folder-name-internal';
	Use `wl-folder-get-elmo-folder';
	Use `elmo-folder-list-messages' instead of
	`elmo-list-folder';
	Use `elmo-folder-get-primitive-list' instead of
	`elmo-folder-get-primitive-spec-list';
	Use `elmo-folder-list-subfolders' instead of `elmo-list-folders';
	Use `elmo-folder-msgdb-path' instead of `elmo-msgdb-expand-path';
	Use `elmo-folder-create' instead of `elmo-create-folder'.
	(wl-folder-create-newsgroups-from-nntp-access2): Abolish.
	(wl-folder-get-elmo-folder): New macro.
	(wl-folder-elmo-folder-cache-get): Ditto.
	(wl-folder-elmo-folder-cache-put): Ditto.
	(wl-folder-suspend): Call `elmo-quit'.

	* wl.el: Use `elmo-folder-msgdb-path' instead of `elmo-msgdb-expand-path';
	Use `elmo-folder-list-messages' instead of `elmo-list-folder';
	Use `elmo-net-port-info' instead of `elmo-folder-portinfo';
	Use `wl-folder-get-elmo-folder' instead of `elmo-folder-get-spec'.
	(toplevel): require 'cl.
	(wl-exit): Call `wl-message-buffer-cache-clean-up' and `elmo-quit'.

	* wl-summary.el: Rewrite to use new elmo interface.


2001-02-06  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-mime.el (wl-draft-preview-message):
	Run `wl-draft-send-hook' before collecting recipients information;
	Bind `wl-draft-config-exec-flag' while running `wl-draft-send-hook'.

	* tm-wl.el (wl-draft-preview-message): Ditto.

2001-02-05  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-mime.el (wl-draft-preview-message): Fixed problem that
	wrong receipients are displayed when forwarded message.

2001-02-01  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.5.7.

2001-01-29  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-message.el (wl-message-next-page): Bind
	`window-pixel-scroll-increment' to nil while scrolling up.

2001-01-27  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-vars.el (wl-save-hook): New hook.
	* wl.el (wl-save): Call `wl-save-hook'.

2001-01-27  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-draft.el (wl-draft-reply-list-symbol): Remove FROM argument.
	Argument WITH-ARG instead of NO-ARG (negative mean).
	(wl-draft-reply): WITH-ARG instead of NO-ARG.
	* wl-summary.el (wl-summary-reply): Fixed `wl-draft-reply' call point.
	* wl-message.el (wl-message-follow-current-entity): Likewise.

2001-01-26  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-draft.el (wl-draft-reply-list-symbol): Change argument order.
	FROM was optional argument.
	(wl-draft-reply): Fixed `wl-draft-reply-list-symbol' call point.

2001-01-23  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* Version number is increased to 2.5.6.

2001-01-23  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-version-show): Removed.
	(wl-version): Add `interactive'.

2001-01-22  YAMASHITA Junji <ysjj@unixuser.org>

	* wl-summary.el (wl-summary-get-petname-func): New variable.
	(wl-summary-default-from): funcall `wl-summary-get-petname-func'
	instead of `wl-address-get-petname-1'.
	(wl-summary-simple-from): Ditto.

	* wl-address.el (wl-address-get-petname-1): Define as function.

2001-01-22  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-reply): Fixed problem when there's no subject
	field in the original message.
	(Pointed out by "HIROSE, Masaaki" <hirose31@t3.rim.or.jp>)

2001-01-19  Akihiro MOTOKI <mokkun@iname.com>

	* wl-expire.el (wl-expire-hide):
	Call `wl-expire-delete-reserve-marked-msgs-from-list'.

2001-01-19  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-reply): Use `mime-find-field-decoder' to
	find decoder for To, Cc, and Subject.

2001-01-30  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-cache-prefetch-next): Revert the logic
	for checking `elmo-use-buffer-cache'.
	(wl-summary-mark-as-important): Fixed typo in comment.

2001-01-22  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-reply): Fixed problem when there's no subject
	field in the original message.
	(Pointed out by "HIROSE, Masaaki" <hirose31@t3.rim.or.jp>)

2001-01-19  Akihiro MOTOKI <mokkun@iname.com>

	* wl-expire.el (wl-expire-hide):
	Call `wl-expire-delete-reserve-marked-msgs-from-list'.

2001-01-19  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-reply): Use `mime-find-field-decoder' to
	find decoder for To, Cc, and Subject.

2001-01-18  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.5.5.

	* wl-address.el (wl-address-specials-regexp): New constant.
	(wl-address-quote-specials): Use it.

2001-01-17  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-rescan):
	Call `wl-summary-buffer-number-column-detect'.
	(Advised by Akihiro MOTOKI <mokkun@iname.com>)

	* wl-message.el (wl-message-mode-map): Define.
	(wl-message-decode): Use it as local-map.

2001-01-16  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-score.el (wl-score-guess-like-gnus): Abolished.
	(wl-score-get-score-files): Don't use `wl-score-guess-like-gnus'.

2001-01-12  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-xmas.el (wl-read-event-char): Move from wl-util.el.

	* wl-mule.el (wl-read-event-char): Ditto.

	* wl-e21.el (wl-read-event-char): Ditto.

	* wl-nemacs.el (wl-read-event-char): Ditto.
	(read-event): Removed.

	* wl-util.el (toplevel): Removed dummy definition of
	`read-event'.
	(wl-read-event-char, wl-xmas-read-event-char): Removed.

2001-01-10  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-nemacs.el (elmo-archive-call-process): Moved to
	elmo-archive.el.

2001-01-02  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-draft.el (wl-draft-reply-list-symbol): New function.
	(wl-draft-reply): Use it.  Fixed "No match field" error message.

	* wl-draft.el (wl-draft-insert-from-field): Use (length "From: ")
	instead of magic-number 6.  Use `not' instead of `null' for symbol
	`nil' check (not empty list).
	(wl-draft-insert-x-face-field): Fixed paren style.

	* wl-draft.el (wl-draft-insert-x-face-field-here): Use `when' for
	one-branch conditional statement, instead of `and' and `if'.
	(wl-draft-forward): Likewise.
	(wl-draft-add-references): Likewise.
	(wl-draft-yank-from-mail-reply-buffer): Likewise.

	* wl-draft.el (wl-draft-delete-myself-from-cc): Refactoring nested
	conditional steatment.  Use `cond' instead of `if'.
	(wl-draft-confirm): Likewise.

2001-01-01  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-version-show): Use `product-string-1'
	instead of `wl-version'.
	* wl-fldmgr.el (wl-fldmgr-folders-header): Likewise.

	* wl-demo.el (wl-demo-copyright-notice): Add 2001.

2000-12-31  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-highlight.el (wl-highlight-headers): Revert
	`wl-highlight-x-face-func' argument (`beg' and `end').

2000-12-29  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl.el (toplevel): Move `product-provide' declare.
	* wl-demo.el (toplevel): Ditto.
	* wl-dnd.el (toplevel): Ditto.
	* wl-highlight.el (toplevel): Ditto.
	* wl-message.el (toplevel): Ditto.
	* wl-refile.el (toplevel): Ditto.
	* wl-util.el (toplevel): Ditto.

2000-12-26  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-thread.el (wl-thread-open-all): Rewrite to open all threads and
	keep cursor position. (Advised by OKAZAKI Tetsurou  <okazaki@be.to>)
	(wl-thread-close-all): keep cursor position.

2000-12-24  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-version-status-alist): Use `zerop' instead of
	(eq x 0).
	(wl-generate-user-agent-string-1): Fix conditional statement.

2000-11-27  Kenichi OKADA  <okada@opaopa.org>

	* wl.el (wl-check-environment): Additional check for
	'wl-local-domain' and `wl-message-id-domain'.

2000-11-19  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (toplevel): Delete defvar for sasl-*.

2000-11-19  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-smtp-extension-bind): Use `smtp-sasl-properties'
	instead of `smtp-sasl-user-realm'.

2000-11-19  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-smtp-extension-bind): Rewrite for new SASL API.

2000-12-19  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-draft.el (wl-draft-reply): Bind `mime-header-lexical-analyzer'
	to the default value as well as `eword-lexical-analyzer'.

2000-12-19  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-extended-emacs-version,
	wl-extended-emacs-version2, wl-extended-emacs-version3): Use
	`elmo-match-string' instead of `wl-match-string'.

2000-12-15  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-summary.el (wl-summary-mode): Use \\{wl-summary-mode-map} in
	docstring.

2000-12-10  Hironori Fukuchi <nory@valis.co.jp>

	* wl-summary.el (wl-summary-toggle-thread): Docstring typo fix.

2000-12-15  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-highlight.el (wl-highlight-headers): Remove
	`wl-highlight-x-face-func' argument (`beg' and `end').

2000-12-15  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-mark-as-important):
	Remove cache if folder is local.

2000-12-06  Taro Kawagishi <taro.kawagishi@nokia.com>

	* wl-summary.el (wl-summary-edit-addresses-subr): Call `try-completion'
	to get existing e-mail address string.

2000-12-13  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-generate-user-agent-string): Commentary.
	(wl-generate-user-agent-string-1): Use `when' for
	one-branch conditional statement, instead of `and' and `if'.
	(wl-extended-emacs-version, wl-extended-emacs-version2,
	wl-extended-emacs-version3): Ditto.

2000-12-12  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync-all-init): New inline function.
	(wl-summary-sync): Enclose `wl-summary-sync-update3' with
	condition-case; Remove initialization.
	(wl-summary-confirm-appends): Don't enclose with `condition-case'.
	(wl-summary-sync-update3): Added argument `sync-all';
	Eliminated local variable `msgdb';
	Call `wl-summary-sync-all-init' when `sync-all' is non-nil.
	Call `wl-summary-confirm-appends' before `wl-summary-sync-all-init'.
	(Pointed out by "HIROSE, Masaaki" <hirose31@t3.rim.or.jp>)

2000-12-12  KOGURO Naoki  <koguro@dd.iij4u.or.jp>

	* wl-draft.el (wl-draft-send-mail-with-pop-before-smtp): Close POP
	connection before call `wl-draft-send-mail-with-smtp'.

2000-11-30  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.5.4.

2000-11-27  Kenichi OKADA  <okada@opaopa.org>

	* wl.el (wl-check-environment): Additional check for
	'wl-local-domain' and `wl-message-id-domain'.

2000-11-28  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-folder.el (wl-folder-sync-entity): Bind name of summary/message
	buffer as command specific.
	(wl-folder-mark-as-read-all-entity): Ditto.
	(wl-folder-prefetch-entity): Ditto.
	(wl-folder-drop-unsync-entity): Ditto.

	* wl-vars.el (wl-prog-uudecode-arg): Changed default to nil.
	(wl-prog-uudecode-no-stdout-option): Changed default to t.
	(Advised by YAMASHITA Junji <ysjj@unixuser.org>)

	* wl-summary.el (wl-summary-toggle-disp-folder): Removed needless
	save-excursion.

2000-11-22  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.5.3.

	* wl-summary.el (wl-summary-save-view-cache):
	Delete duplicated `write-region';
	Use `write-region-as-binary' instead of `as-binary-output-file' and
	`write-region'.

2000-11-20  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-make-date-string): Bind `system-time-locale' to "C".

2000-11-20  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-send-mail-with-smtp): Use `smtp-send-buffer'
	instead of `smtp-via-smtp'.

2000-11-19  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (toplevel): Delete defvar for sasl-*.

2000-11-19  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-smtp-extension-bind): Use `smtp-sasl-properties'
	instead of `smtp-sasl-user-realm'.

2000-11-19  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-smtp-extension-bind): Rewrite for new SASL API.

2000-11-19  Kenichi OKADA  <okada@opaopa.org>

	* Version number is increased to 2.5.2.

2000-11-17  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-util.el (toplevel): Don't define wl-biff if `timer-activate'
	does not exist.
	(wl-biff-stop): Call `cancel-timer' if timer already exists.
	(wl-biff-start): Call `timer-activate' if timer already exists.

	* wl-mule.el (wl-message-overload-functions): Call `set-keymap-parent'
	only when it is bound as function.

2000-11-15  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.5.1.

2000-11-14  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-thread.el (wl-thread-update-line-on-buffer-sub):
	Print refile/copy destination.

2000-11-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl.el (wl-toggle-plugged): Don't call `wl-biff-start' if
	queue-flush-only is non-nil.

	* wl-util.el (wl-biff-check-folder-async): Fix close parenthesis.

	* wl-summary.el (wl-summary-refile-subr): Use folder realname while
	checking cache folder.

2000-11-09  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-folder.el (wl-folder-guess-mailing-list-by-folder-name): Use
	`regexp-quote'.

2000-11-08  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-folder.el (wl-folder-guess-mailing-list-by-folder-name): New
	function.
	* wl-summary.el (wl-summary-write-current-folder-functions):
	Change default value.  Use it.

2000-11-08  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.5.0.

	* wl-version.el (wl-version): Changed codename.

2000-11-06  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-cancel-message): Fetch again if no Newsgroups.
	(wl-summary-supersedes-message): Ditto.

2000-11-05  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-refile.el (wl-refile-guess-functions): Renamed from
	`wl-refile-guess-func-list'.

2000-11-02  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-folder.el (wl-folder-guess-mailing-list-by-refile-rule):
	Fixed problem when no rule was matched.

2000-11-01  Akihiro MOTOKI  <motoki@da.jp.nec.com>

	* wl-summary.el (wl-summary-get-mark): Fixed
	`wl-summary-buffer-target-mark' check logic.

2000-11-01  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-folder.el (wl-folder-write-current-folder): Added group
	folder check.

	* wl-summary.el (wl-summary-write-current-folder): Renamed from
	`wl-summary-write-current-newsgroup'.
	(wl-summary-write-current-folder-functions): New variable.
	* wl-folder.el (wl-folder-get-newsgroups): New function.
	(wl-folder-guess-mailing-list-by-refile-rule): New function.
	(wl-folder-write-current-folder): Renamed from
	`wl-folder-write-current-newsgroup'.

2000-11-01  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* Version number is increased to 2.3.93.

2000-11-01  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-address.el (wl-ldap-register-dn-string): Flatten dn-list.
	(wl-ldap-make-matched-value-list): Ditto.
	(wl-ldap-alias-safe-string): Split e-mail address.

	* wl-summary.el (wl-summary-read-folder): Fixed problem when
	petname folder default was selected.
	(Fix by HIROSE Yuuji <yuuji@gentei.org>)
	(wl-summary-auto-refile): Use `wl-folder-get-realname'.

2000-10-31  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-nemacs.el (wl-draft-overload-functions): Bind 'C-c C-e'
	to `wl-draft-config-exec'.

	* wl-mime.el (wl-draft-preview-message): Run `wl-draft-send-hook'
	instead of calling `wl-draft-config-exec';
	Process group-list and show recipients in minibuffer.

	* tm-wl.el (wl-draft-preview-message): Ditto.

2000-10-31  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl.el (toplevel): Added (C) to copyright notice, and
	sync Author header.
	* tm-wl.el (toplevel): Ditto.
	* wl-address.el (toplevel): Ditto.
	* wl-demo.el (toplevel): Ditto.
	* wl-dnd.el (toplevel): Ditto.
	* wl-draft.el (toplevel): Ditto.
	* wl-e21.el (toplevel): Ditto.
	* wl-expire.el (toplevel): Ditto.
	* wl-folder.el (toplevel): Ditto.
	* wl-highlight.el (toplevel): Ditto.
	* wl-message.el (toplevel): Ditto.
	* wl-mime.el (toplevel): Ditto.
	* wl-mule.el (toplevel): Ditto.
	* wl-nemacs.el (toplevel): Ditto.
	* wl-refile.el (toplevel): Ditto.
	* wl-score.el (toplevel): Ditto.
	* wl-summary.el (toplevel): Ditto.
	* wl-template.el (toplevel): Ditto.
	* wl-thread.el (toplevel): Ditto.
	* wl-util.el (toplevel): Ditto.
	* wl-vars.el (toplevel): Ditto.
	* wl-xmas.el (toplevel): Ditto.

2000-10-31  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl.el (wl-init): Added comment about `wl-init-hook'.
	* wl-folder.el (wl-make-plugged-alist): Removed useless comment.
	* wl-vars.el (wl-init-hook): Added docs.
	(wl-make-plugged-hook): Removed useless docs.
	* wl-e21.el (toplevel): Removed commented `wl-make-plugged-hook'.
	* wl-xmas.el (toplevel): Ditto.

2000-10-31  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-address.el (toplevel): Fixed multiple Author header format.
	* wl-demo.el (toplevel): Ditto.
	* wl-draft.el (toplevel): Ditto.
	* wl-folder.el (toplevel): Ditto.
	* wl-summary.el (toplevel): Ditto.
	* wl-thread.el (toplevel): Ditto.
	* wl-util.el (toplevel): Ditto.
	* wl-vars.el (toplevel): Ditto.
	* wl-version.el (toplevel): Ditto.
	* wl-xmas.el (toplevel): Ditto.
	* wl.el (toplevel): Ditto.

	* wl-version.el (toplevel): Added require `elmo-version' for
	`product-version-as-string'.

2000-10-31  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-draft-send-hook): Changed default value to
	'(wl-draft-config-exec).

	* wl-draft.el (wl-draft-send): Don't call `wl-draft-config-exec'
	explicitly.
	(wl-draft): Set `wl-draft-config-exec-flag' before running
	`wl-mail-setup-hook'.

	* wl-xmas.el (toplevel): Add `wl-plugged-init-icons' and
	`wl-biff-init-icons' to	`wl-init-hook' instead of
	`wl-make-plugged-hook'.
	(Because if `wl-draft' command is invoked at first,
	they are not initialized)
	Updated copyright notice.

	* wl-e21.el (toplevel): Ditto;

	* wl-demo.el (toplevel): Updated copyright notice.
	* wl-address.el (toplevel): Ditto.
	* wl-draft.el (toplevel): Ditto.
	* wl-version.el (toplevel): Ditto.
	* wl-folder.el (toplevel): Ditto.
	* wl-summary.el (toplevel): Ditto.
	* wl-thread.el (toplevel): Ditto.
	* wl-util.el (toplevel): Ditto.
	* wl-vars.el (toplevel): Ditto.
	* wl.el (toplevel): Ditto.

2000-10-30  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-highlight.el (wl-highlight-message): Fixed problem of
	highlighting failure which occured when the last field contains
	multiple lines in the draft buffer.

	* wl.el (wl-toggle-plugged): Call `wl-biff-stop' if unplugged,
	`wl-biff-start' if plugged.

	* wl-util.el (wl-biff-check-folder): New function.
	(wl-biff-check-folders): Don't set session name prefix.
	Use `wl-biff-check-folder' instead of `wl-folder-check-one-entity'.
	(wl-biff-check-folder-async): Ditto.

	* wl-address.el (wl-ldap-alias-safe-string): Replace '@' to '/'
	in email address.

2000-10-07  Yasushi Shoji      <yashi@yashi.com>

	* wl-vars.el (wl-subject-prefix-regexp): New variable.

	* wl-draft.el (wl-draft-strip-subject-re): New function.

	* wl-draft.el (wl-draft-reply): Use it.

2000-10-30  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-message.el (wl-mmelmo-message-redisplay): Use
	`mime-display-message' instead of `wl-mime-display-message'.

	* wl-mime.el (toplevel): Removed compatibility workaround
	for SEMI 1.13.4. or earlier and FLIM 1.12.7 or earlier.
	(wl-mime-display-message): Abolished.
	(wl-mime-entity-read-field): Ditto.
	(wl-mime-combine-message/partial-pieces): Use
	`mime-entity-read-field' instead of `wl-mime-entity-read-field'.

2000-10-27  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-template.el: Doc fixes.

2000-10-26  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-message-overload-functions): Do nothing if
	`current-local-map' is not available.
	(wl-e21-setup-message-toolbar): Allow the argument `keymap'.

2000-10-26  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-fldmgr.el (wl-fldmgr-save-folders): Fixed permission lateral
	representation.

	* wl-fldmgr.el (wl-fldmgr-folders-header): Include version
	number.
	(wl-fldmgr-save-folders): Don't use `format' when insert
	`wl-fldmgr-folders-header'.

2000-10-26  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Don't use `fancy-splash-insert'.

2000-10-26  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-highlight.el (wl-highlight-message):
	Use `std11-field-end' to detect end point of the header field.
	Refer `wl-highlight-max-header-size'.

	* wl-vars.el (wl-highlight-max-header-size): New variable.

	* wl-highlight.el (wl-highlight-headers): Added argument `for-draft'.

	* wl-draft.el (wl-draft-yank-from-mail-reply-buffer):
	Set `for-draft' argument of wl-highlight-headers.
	(wl-draft): Ditto.
	(wl-draft-reedit): Ditto.
	(wl-user-agent-compose-internal): Ditto.

2000-10-24   Daiki Ueno <ueno@unixuser.org>

	* wl-message.el (wl-message-add-button): Use overlay.

2000-10-24  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-parse-mailbox-list): Don't insert extra space.

	* wl-address.el (wl-address-string-without-group-list-contents): Fixed
	problem when group-list content is nothing.
	(Reported by Mito <mit@nines.nec.co.jp>)

2000-10-18  SAITO Atsunori <sai@yedo.com>

	* wl-summary.el (wl-summary-print-destination): Adjust line length.

2000-10-20  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* tm-wl.el (toplevel): Use product-provide.

2000-10-20  Yuuichi Teranishi  <teranisi@gohome.org>

	* Version number is increased to 2.3.92.

2000-10-19  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Use `fancy-splash-insert' for inserting a
	title text, use `display' property for left margin under Emacs 21.

	* wl-e21.el (wl-biff-init-icons): Don't use `propertize' without
	properties.
	(wl-plugged-init-icons): Ditto.

2000-10-19  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl.el (wl-save-status, wl-init): Remove last period in
	"...done." message.
	* tm-wl.el (wl-summary-burst): Ditto.
	* wl-summary.el (wl-summary-rescan, wl-summary-mark-as-read-all,
	wl-summary-resume-cache-status,
	wl-summary-resume-marks-and-highlight, wl-summary-resume-marks,
	wl-summary-sync-update3, wl-summary-highlight-msgs,
	wl-summary-flush-pending-append-operations,
	wl-summary-delete-all-msgs, wl-summary-delete-all-temp-marks,
	wl-summary-jump-to-parent-message, wl-summary-drop-unsync): Ditto.
	* wl-thread.el (wl-thread-resume-entity, wl-thread-close-all,
	wl-thread-open-all): Ditto.
	* wl-score.el (wl-summary-score-update-all-lines): Ditto.
	* wl-mime.el (wl-summary-burst): Ditto.
	* wl-highlight.el (wl-highlight-summary): Ditto.
	* wl-folder.el (wl-folder-update-newest, wl-local-folder-init,
	wl-folder-open-all, wl-folder-update-access-group): Ditto.
	* wl-draft.el (wl-draft-send, wl-draft-queue-append): Ditto.
	* wl-address.el (wl-local-address-init): Ditto.

2000-10-19  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-biff-init-icons): Use `propertize' instead of
	`add-text-properties'.
	(wl-plugged-init-icons): Ditto.
	(wl-folder-init-icons): Use `propertize' instead of
	`put-text-property'.
	(wl-plugged-set-folder-icon): Ditto.
	(wl-e21-highlight-folder-group-line): Ditto.

2000-10-18  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-version.el (wl-version-status-alist): New variable.
	(wl-version-status): New function.

	* wl-vars.el (wl-draft-reply-without-argument-list): Added "From" to
	"Cc" part of the case "Reply-To".

	* wl-draft.el (wl-draft-reply): Use result of
	`eword-extract-address-components'.

	* wl-demo.el (wl-demo-icon-name): New constant.
	(wl-logo-xpm): Use it.
	(wl-logo-xbm): Ditto.
	(wl-logo-bitmap): Ditto.

	* Version number is increased to 2.3.91.

2000-10-18  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-generate-user-agent-string): Fixed docstring.
	(wl-extended-emacs-version, wl-extended-emacs-version2,
	wl-extended-emacs-version3): Remove `interactive'.  Fixed
	docstring.

	* wl-version.el (wl-generate-user-agent-string-1): New function.
	(wl-generate-user-agent-string): Use it.

	* wl-version.el (wl-generate-user-agent-string-1): Ignore
	`mime-edit-insert-user-agent-field'.
	(wl-generate-user-agent-string): Check
	`mime-edit-insert-user-agent-field' and `mime-editor/version'.

	* wl-version.el (wl-generate-user-agent-string-1): Use `cond'
	instead of `if', when verbose case.

2000-10-18  Kenichi OKADA  <okada@opaopa.org>

	* wl-expire.el (wl-summary-expire): Fix.

2000-10-18  Kenichi OKADA  <okada@opaopa.org>

	* wl.el (wl-check-environment): Don't check `wl-trash-folder'
	and `elmo-lost+found-folder' if 'wl-draft.
	* wl-draft.el (wl-draft): Call `wl-init' with 'wl-draft.

2000-10-17  Kenichi OKADA  <okada@opaopa.org>

	* wl-expire.el (wl-summary-expire): Change messages.
	* wl-summary.el (wl-summary-delete-messages-on-buffer): Use
	`deleing-info' instead of "Deleting..."

2000-10-15  Osamu Yamane <yamane@green.ocn.ne.jp>

	* wl-summary.el (wl-summary-refile-subr): Fix.

2000-10-15  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-refile-subr): Check dst-spec-plugged
	if pipe folder.

2000-10-17  Kenichi OKADA  <okada@opaopa.org>

	* wl-vars.el (wl-draft-use-cache): Default `nil'.

2000-10-17  Kenichi OKADA  <okada@opaopa.org>

	* wl-expire.el (wl-expire-hide): New function.
	(wl-summary-expire): Add `hide'.

2000-10-17  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-draft-reply-without-argument-list):
	Changed default value to consider `Reply-To:'.
	(Advised by TAKAHASHI Kaoru <kaoru@kaisei.org>)

	* Version number is increased to 2.3.90.

	* wl-summary.el (wl-summary-msgdb-load-async): Enclose
	elmo-imap4-get-session with unwind-protect.
	Don't cause error.
	(wl-summary-sync-marks): Don't check plugged nor folder type.
	(wl-summary-save-view-cache): Abolished argument `keep-current-buffer'
	(Always keep current buffer).

2000-10-16  Akihiro MOTOKI  <motoki@da.jp.nec.com>

	* wl-highlight.el (wl-highlight-message-add-buttons-to-header):
	Enclose with `save-excursion'.

2000-10-16  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-version): Remove interactive.

2000-10-15  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (wl-generate-user-agent-string): Use
	`product-string-verbose' instead of `product-string-1'.

2000-10-15  Kenichi OKADA  <okada@opaopa.org>

	* wl-vars.el (wl-draft-use-cache): New variable.
	* wl-draft.el (wl-draft-dispatch-message): Sending message is cached,
	if wl-draft-use-cache is non-nil.

2000-10-15  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary (wl-summary-prefetch): Don't prefetch if cached.
	(wl-summary-prefetch-msg): force prefetch if called with optional argument.

2000-10-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-thread.el (wl-thread-msg-mark-as-read): Abolished.
	(wl-thread-msg-mark-as-unread): Ditto.

	* wl-summary.el (wl-summary-sync-marks): Delete argument 'no-cache.
	(wl-summary-mark-as-unread): Check return value of `elmo-mark-as-read'.
	(wl-summary-mark-as-read): Invert the meaning of 6 th argument.
	Don't set mark in summary if return value of `elmo-mark-as-read'
	is nil.
	Use `wl-summary-mark-as-read' instead of `wl-thread-msg-mark-as-read'.
	(wl-summary-mark-as-read-region):  Use `wl-summary-mark-as-read'
	instead of `wl-thread-msg-mark-as-read'.
	(wl-summary-mark-as-unread-region): Ditto.
	(wl-summary-target-mark-mark-as-read): Ditto.

	* wl-score.el (wl-summary-score-update-all-lines): Ditto.

2000-10-12  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-xmas.el (wl-highlight-folder-current-line): Remove previous face.

	* wl-mule.el (wl-highlight-folder-current-line): Ditto.

2000-10-11  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-highlight.el (wl-highlight-folder-group-line): Remove previous
	face.

2000-10-11  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-util.el (toplevel): Use `wl-on-xemacs' instead of
	`running-xemacs'.

2000-10-11  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el (toplevel): Use `product-version-as-string' for
	set verstion-string, if defined.

	* wl-version.el (wl-version-show): Insert string at point, when
	call with argument.

	* wl-version.el (wl-generate-user-agent-string): Use
	`product-string-1' instead of `wl-appname', `wl-version' and
	`wl-codename'.

2000-10-10  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-address.el (toplevel): Use product-provide.
	* wl-demo.el (toplevel): Ditto.
	* wl-dnd.el (toplevel): Ditto.
	* wl-draft.el (toplevel): Ditto.
	* wl-e21.el (toplevel): Ditto.
	* wl-expire.el (toplevel): Ditto.
	* wl-fldmgr.el (toplevel): Ditto.
	* wl-folder.el (toplevel): Ditto.
	* wl-highlight.el (toplevel): Ditto.
	* wl-message.el (toplevel): Ditto.
	* wl-mime.el (toplevel): Ditto.
	* wl-mule.el (toplevel): Ditto.
	* wl-nemacs.el (toplevel): Ditto.
	* wl-refile.el (toplevel): Ditto.
	* wl-score.el (toplevel): Ditto.
	* wl-summary.el (toplevel): Ditto.
	* wl-template.el (toplevel): Ditto.
	* wl-thread.el (toplevel): Ditto.
	* wl-util.el (toplevel): Ditto.
	* wl-vars.el (toplevel): Ditto.
	* wl-xmas.el (toplevel): Ditto.
	* wl.el (toplevel): Ditto.

2000-10-10  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-fldmgr.el (wl-fldmgr-save-folders): Use (wl-version t)
	instead of product.

	* wl-version.el (wl-version): Compile time evalution elmo-version.

2000-10-10  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-sync-force-update): Append queue
	`mark-as-read'if unplugged.

2000-10-10  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-version.el: New file.  Use product.el.
	* wl.el: add (require 'wl-version).
	* wl-fldmgr.el (wl-fldmgr-save-folders): Use `product-string-1'
	for ~/.folders header.
	(wl-fldmgr-folders-header): Changed.
	* wl-demo.el (wl-demo): Use product.el.

	* wl-vars.el (wl-appname, wl-version, wl-codename): Move to
	wl-version.el.
	* wl-util.el (wl-version, wl-version-show): Ditto.

	* wl-util.el (wl-generate-user-agent-string,
	wl-extended-emacs-version, wl-extended-emacs-version2,
	wl-extended-emacs-version3): Move to wl-version.el.
	* wl-util.el (mule-version, nemacs-version, emacs-beta-version,
	xemacs-codename, mime-edit-insert-user-agent-field,
	mime-edit-user-agent-value, mime-editor/version,
	mime-editor/codename): Compile warning killer move to
	wl-version.el

2000-10-09  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-refile-subr): Fix.

2000-10-09  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync-marks): Changed argument for
	`elmo-list-folder-unread' and `elmo-list-folder-important'.

2000-10-08  Kenichi OKADA	<okada@opaopa.org>

	* wl.el (wl-check-environment): Check too many `@'.

2000-10-08   Mikio Nakajima <minakaji@osaka.email.ne.jp>

	* wl-thread.el (wl-thread-delete-message): Fix parentheses.

2000-10-07  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-vars.el (wl-draft-reply-myself-with-argument-list,
	wl-draft-reply-myself-without-argument-list): Add variables.
	* wl-draft.el (wl-draft-reply): Use it.

2000-10-06   Daiki Ueno  <ueno@unixuser.org>

	* wl-fldmgr.el (wl-fldmgr-add-completion-all-completions): Pass
	the 5th argument of `elmo-network-get-spec'.

	* wl-thread.el (wl-thread-reparent-children): New inline function.
	(wl-thread-delete-message): Use it.

	* wl-score.el (wl-score-headers): Abolish local variable `buffers'.
	(wl-summary-score-update-all-lines): Don't use `dolist'.

2000-10-06  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-score.el (toplevel): Remove (provide 'elmo-msgdb).  And add
	(require 'elmo-msgdb) for inline function.

2000-10-06  Kenichi OKADA  <okada@opaopa.org>

	* wl-vars.el (wl-draft-queue-save-variables): Add variables.

2000-10-06  Kenichi OKADA  <okada@opaopa.org>

	* wl-score.el (wl-score-headers): Fix for the confusing macro
	`elmo-kill-buffer'.

2000-10-05  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-summary.el: Don't use the 3rd argument of `require' because
	it might be ignored by some wrappers (e.g. jam-zcat, efs, etc.).
	* wl-util.el: Ditto.
	* wl-draft.el: Ditto.

2000-10-05  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Don't pass by the XEmacs routine when
	window system is not used.

2000-10-04   Daiki Ueno  <ueno@unixuser.org>

	* wl-thread.el: Don't use `mapcar' only for iteration.
	(wl-thread-resume-entity): Ditto.
	(wl-thread-delete-message): Ditto.

	* wl-summary.el: Bind `dragdrop-drop-functions',
	`scrollbar-height' and `mail-reply-buffer'; specify 3rd argument
	of `require' for `timezone', `easymenu' and `ps-print';
	don't use `mapcar' only for iteration.

	* wl-util.el: Bind `mule-version', `nemacs-version',
	`emacs-beta-version', `xemacs-codename',
	`mime-edit-insert-user-agent-field', `mime-edit-user-agent-value',
	`mime-editor/version' and `mime-editor/codename'; specify 3rd
	argument of `require' for `tm-edit' and `pp'; don't use `mapcar'
	only for iteration.

	* wl-score.el: Don't use `mapcar' only for iteration.
	(wl-score-simplify-buffer-fuzzy): Ditto.
	(wl-score-simplify-subject): Ditto.
	(wl-score-headers): Ditto.
	(wl-summary-score-update-all-lines): Ditto.

	* wl-mime.el: Bind `xemacs-betaname', `xemacs-codename',
	`enable-multibyte-characters' and `mule-version'.

	* wl-message.el: Bind `mmelmo-imap4-skipped-parts'; don't use
	`mapcar' only for iteration.

	* wl-demo.el: Don't use `mapcar' only for iteration.

	* wl-folder.el: Don't use `mapcar' only for iteration.
	(wl-folder-open-all): Ditto.
	(wl-folder-count-incorporates): Ditto.

	* wl-fldmgr.el (wl-add-entity): Don't use `mapcar' only for iteration.
	(wl-add-entity-sub): Ditto; use `delq' instead of `delete'.

	* wl-draft.el: Bind `x-face-add-x-face-version-header',
	`mail-reply-buffer', `mail-from-style', `smtp-authenticate-*' and
	`smtp-connection-type'; specify 3rd argument of `require' for
	`timezone'; don't use `mapcar' only for iteration.
	(wl-draft-clone-local-variables): Don't use `mapcar'.
	(wl-draft-generate-clone-buffer): Ditto.
	(wl-user-agent-compose-internal): Ditto.

	* wl-xmas.el (wl-folder-init-icons): Use `dolist' instead of `mapcar'.

	* wl.el (wl-toggle-plugged): Don't use `mapcar' only for iteration.
	(wl-save-status): Ditto.

	* wl-address.el (wl-local-address-init): Don't use `mapcar' only
	for iteration.

2000-10-04  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-summary-pick-field-default): Added `Last', `First' and
	removed `Date'.
	(wl-fldmgr-make-filter-default): New user option.

	* wl-fldmgr.el (wl-fldmgr-make-filter): Simplify.
	Use `elmo-read-search-condition' and `wl-fldmgr-make-filter-default'
	(wl-fldmgr-filter-completion-alist): Abolish.

	* wl.el (wl): Don't check servers if arg is non-nil.

	* wl-draft.el (wl-draft-reply): Set only message-id string to
	In-Reply-To field.

2000-10-03  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-pick): Rewrite.

	* wl-draft.el (wl-draft-forward): Get references field from
	original buffer.
	(wl-draft-forward): Use `wl-draft-parse-msg-id-list-string'.

2000-10-02  A. SAGATA  <sagata@nttvdt.hil.ntt.co.jp>

	* wl-draft.el (wl-draft-forward): Add references field.

2000-10-03  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-parse-msg-id-list-string): New function.
	(wl-draft-reply): Use it.

2000-10-02  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-vars.el (wl-icon-dir): Default to $(data-directory)/wl/icons/
	when Emacs 21 is running.

	* wl-e21.el (wl-e21-make-toolbar-buttons): Invalidate the default
	bindings.

2000-09-29  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-e21-setup-toolbar): Make the background color of
	XPM icons transparent.

	* wl-demo.el (wl-demo): Hide toolbar while showing a logo under
	Emacs 21.

2000-09-29  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl.el (wl-toggle-plugged): Set `wl-biff-check-folders-running' as
	nil.

	* wl-summary.el (wl-summary-sync-force-update): Save seen-list only
	when it is persistent.
	(wl-summary-sync-marks): Changed argument for
	`elmo-list-folder-unread' and `elmo-list-folder-important'.
	(wl-summary-virtual): Use `elmo-read-search-condition'.
	(wl-summary-redisplay-internal): If folder is local, mark as read
	even when folder is plugged.

2000-09-28  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-e21-make-toolbar-buttons): Don't modify the value
	of `tool-bar-lines' in the frame parameters.
	(after-make-frame-functions, post-command-hook): Don't modify the
	value.
	(wl-e21-switch-toolbar-after-make-frame, wl-e21-switch-toolbar,
	wl-e21-tool-bar-lines): Removed.

2000-09-28  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-highlight.el (wl-highlight-folder-path): Put overlay
	properties `evaporate' and `wl-momentary-overlay' as well.
	(wl-highlight-summary-displaying): Ditto.
	(wl-delete-all-overlays): Don't delete overlay which does not have
	a property `wl-momentary-overlay'.

	* wl-e21.el (wl-biff-init-icons, wl-plugged-init-icons): Refer to
	`display-mouse-p' and `display-graphic-p'.
	(wl-folder-init-icons): Don't search for XBM or the other files.
	(wl-plugged-set-folder-icon): Make icons if and only if
	`display-graphic-p' returns non-nil.
	(wl-highlight-plugged-current-line): Use `before-string' overlay
	property to show icon images.
	(wl-highlight-folder-current-line): Ditto.
	(wl-e21-highlight-folder-group-line): Ditto.
	(wl-e21-highlight-folder-by-numbers): Ditto.
	(wl-e21-insert-image): Removed.
	(wl-e21-setup-*-toolbar): Refer to `display-graphic-p'.
	(wl-e21-make-toolbar-buttons): Set the value that Emacs itself
	said.
	(wl-e21-switch-toolbar-after-make-frame): Renamed from
	`wl-e21-force-switch-toolbar'.
	(wl-e21-make-icon-image): Removed.
	(wl-e21-setup-toolbar): Don't search for XBM files.
	(wl-use-toolbar): Don't refer to `display-graphic-p' to determine
	the default value.

2000-09-27  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-util.el (wl-biff-check-folder-async): Set
	`wl-biff-check-folders-running' even when it is not an IMAP folder.

2000-09-26  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (after-make-frame-functions): Add
	`wl-e21-force-switch-toolbar'.
	(wl-e21-force-switch-toolbar): New function force to switch the
	toolbar appearance automatically.
	(post-command-hook): Add `wl-e21-switch-toolbar'.
	(wl-e21-switch-toolbar): New function to switch the toolbar
	appearance automatically.
	(wl-e21-tool-bar-lines): New buffer local variable.

2000-09-25  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-util.el (wl-biff-check-folders-running): New variable.
	(wl-biff-check-folders): Set and check `wl-biff-check-folders-running'.
	(wl-biff-check-folder-async-callback):
	Set `wl-biff-check-folders-running'.
	(wl-biff-check-folders): Enclose `wl-folder-check-one-entity'
	with unwind-protect.

	* wl.el (wl): Call `wl-biff-start' before `wl-folder-auto-check'.
	Enclose `wl-folder-auto-check' with unwind-protect.

	* wl-util.el (wl-biff-start) [Emacs19+]: require 'timer.
	(toplevel) [Emacs19+]: Removed autoload setting for "timer".

	* wl.el (wl): Call `wl-folder-auto-check' after `wl-plugged-init'.

	* wl-util.el (wl-biff-notify): New inline function.
	(wl-biff-check-folders): Bind `elmo-network-session-name-prefix'
	locally.
	Call `wl-biff-check-folder-async' if length of `wl-biff-check-
	folder-list' is 1.
	Use `wl-biff-notify'.
	(wl-biff-check-folder-async-callback): New function.
	(wl-biff-check-folder-async): Ditto.

	* wl-folder.el (wl-folder): Don't check folders.
	(wl-folder-auto-check): New function.

2000-09-24  A. SAGATA  <sagata@nttvdt.hil.ntt.co.jp>

	* wl-util.el (wl-biff-start) [Emacs19+]:
	Use `timer-next-integral-multiple-of-time'.
	(wl-biff-check-folders): Use `wl-default-folder'
	if `wl-biff-check-folder-list' is nil.

2000-09-24  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-summary.el (wl-summary-set-crosspost): Use `elmo-list-delete'
	instead of `elmo-delete-lists'.

2000-09-22  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl.el (wl-plugged-toggle-all): Set the value of
	`wl-modeline-plug-status' instead of `wl-plug-state-indicator'.
	(wl-plugged-toggle): Ditto.
	(wl-toggle-plugged): Ditto.
	(wl-plugged-init): Ditto.

	* wl-xmas.el (wl-biff-init-icons): Set icons data to
	`wl-modeline-biff-state-off' and `wl-modeline-biff-state-on'
	instead of `wl-biff-state-indicator-off' and
	`wl-biff-state-indicator-on'; don't modify the value and the type
	of `wl-biff-state-indicator-off' and `wl-biff-state-indicator-on'.
	(wl-plugged-init-icons): Set icons data to
	`wl-modeline-plug-state-off' and `wl-modeline-plug-state-on'
	instead of `wl-plug-state-indicator-off' and
	`wl-plug-state-indicator-on'; don't modify the value and the type
	of `wl-plug-state-indicator-off' and `wl-plug-state-indicator-on'.

	* wl-vars.el (wl-modeline-biff-state-off,
	wl-modeline-biff-state-on, wl-modeline-biff-status,
	wl-modeline-plug-state-off, wl-modeline-plug-state-on,
	wl-modeline-plug-status): New internal variables.
	(wl-biff-state-indicator-off, wl-biff-state-indicator-on,
	wl-biff-check-interval, wl-biff-check-folder-list): Change
	customization group from `wl-folder' to `wl-highlight'.
	(wl-plug-state-indicator-off, wl-plug-state-indicator-on,
	wl-show-plug-status-on-modeline): Defcustomized.

	* wl-util.el (wl-biff-check-folders): Set the value of the flag
	`wl-modeline-biff-status' instead of `wl-biff-state-indicator'.
	(wl-mode-line-buffer-identification): Set both ON and OFF data with
	a flag to `mode-line-buffer-identification'.

	* wl-e21.el (wl-biff-init-icons): Set icons data to
	`wl-modeline-biff-state-off' and `wl-modeline-biff-state-on'
	instead of `wl-biff-state-indicator-off' and
	`wl-biff-state-indicator-on'.
	(wl-plugged-init-icons): Set icons data to
	`wl-modeline-plug-state-off' and `wl-modeline-plug-state-on'
	instead of `wl-plug-state-indicator-off' and
	`wl-plug-state-indicator-on'.

2000-09-20  Hiroya Murata  <lapis-lazuli@pop06.odn.ne.jp>

	* wl-util.el (wl-mode-line-buffer-identification): Don't breed
	excessive titles.

2000-09-20  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl.el (wl-plugged-mode): Use revised
	`wl-mode-line-buffer-identification'.
	(wl-plugged-init): Don't use `force-mode-line-update'.

	* wl-xmas.el (wl-draft-overload-functions): Use revised
	`wl-mode-line-buffer-identification'.
	(wl-setup-summary): Renamed from `wl-xmas-setup-summary'.
	(wl-setup-folder): Renamed from `wl-xmas-setup-folder'.
	(TopLevel): Add `wl-setup-summary' to `wl-summary-mode-hook';
	add `wl-plugged-init-icons' and `wl-biff-init-icons' to
	`wl-make-plugged-hook';
	add `wl-folder-init-icons' and `wl-setup-folder' to
	`wl-folder-mode-hook'.

	* wl-vars.el (wl-use-highlight-mouse-line): Activate it for Emacs
	19 as well.
	(wl-mode-line-display-priority-list): New user option.
	(wl-biff-state-indicator-off, wl-biff-state-indicator-on):
	Defcustomized.
	(wl-make-plugged-hook, wl-summary-mode-hook, wl-folder-mode-hook):
	Add docs.

	* wl-util.el (wl-biff-start): Call `wl-biff-check-folders' at the
	start.
	(wl-mode-line-buffer-identification): Revised as a function.

	* wl-summary.el (wl-summary-mode): Use revised
	`wl-mode-line-buffer-identification'; don't call
	`wl-e21-setup-summary' nor `wl-xmas-setup-summary' directly.
	(TopLevel): Don't bind `wl-e21-setup-summary' nor
	`wl-xmas-setup-summary'.

	* wl-nemacs.el (wl-draft-overload-functions): Use revised
	`wl-mode-line-buffer-identification'.

	* wl-mule.el (wl-draft-overload-functions): Use revised
	`wl-mode-line-buffer-identification'.

	* wl-folder.el (wl-make-plugged-alist): Don't call
	`wl-biff-init-icons' nor `wl-plugged-init-icons' directly.
	(wl-folder): Don't call `wl-folder-init-icons' directly.
	(wl-folder-mode): Don't call `wl-e21-setup-folder' nor
	`wl-xmas-setup-folder' directly;
	use revised `wl-mode-line-buffer-identification'.
	(TopLevel): Don't bind `wl-biff-init-icons',
	`wl-plugged-init-icons', `wl-folder-init-icons',
	`wl-e21-setup-folder' nor `wl-xmas-setup-folder'.

	* wl-e21.el (wl-draft-overload-functions): Use revised
	`wl-mode-line-buffer-identification'.
	(wl-setup-summary): Renamed from `wl-e21-setup-summary'.
	(wl-setup-folder): Renamed from `wl-e21-setup-folder'.
	(TopLevel): Add `wl-setup-summary' to `wl-summary-mode-hook';
	add `wl-plugged-init-icons' and `wl-biff-init-icons' to
	`wl-make-plugged-hook';
	add `wl-folder-init-icons' and `wl-setup-folder' to
	`wl-folder-mode-hook'.

2000-09-18  A. SAGATA <sagata@nttvdt.hil.ntt.co.jp>
            Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl.el (wl): Call `wl-biff-start'.
	(wl-exit): Call `wl-biff-stop'.
	(wl-plugged-mode): Show biff in modeline.
	(wl-unplugged-glyph, wl-plugged-glyph): Removed.

	* wl-xmas.el (wl-draft-overload-functions): Show biff in modeline.
	(wl-biff-init-icons): New function.
	(wl-plugged-init-icons): Don't make too much keymaps.
	(wl-biff-nomail-glyph, wl-biff-mail-glyph): New variables.

	* wl-vars.el (wl-biff-nomail-icon, wl-biff-mail-icon,
	wl-biff-state-indicator-off, wl-biff-state-indicator-on): New
	variables.
	(wl-biff-check-interval, wl-biff-check-folder-list): New user
	options.

	* wl-util.el (wl-biff-check-folders, wl-biff-event-handler,
	wl-biff-start, wl-biff-stop): New functions.
	(timer-next-integral-multiple-of-time): Defined with `defun-meybe'.
	(wl-biff-timer-name): New variable.

	* wl-summary.el (wl-summary-mode): Show biff in modeline.

	* wl-nemacs.el (wl-draft-overload-functions): Show biff in modeline.
	(wl-plugged-init-icons, wl-folder-init-icons): Removed.

	* wl-mule.el (wl-draft-overload-functions): Show biff in modeline.
	(wl-plugged-init-icons, wl-folder-init-icons): Removed.

	* wl-folder.el (wl-make-plugged-alist): Call `wl-biff-init-icons'.
	(TopLevel): Bind `wl-biff-init-icons', `wl-plugged-init-icons' and
	`wl-folder-init-icons' to `ignore' if they are not available.
	(wl-folder-mode): Show biff in modeline.

	* wl-e21.el (wl-draft-overload-functions): Show biff in modeline.
	(wl-biff-init-icons): New function.
	(wl-plugged-init-icons): Don't make too much keymaps.
	(wl-biff-nomail-image, wl-biff-mail-image): New variables.

2000-09-15  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-vars.el (wl-strict-diff-folders): Customization Type
	and doc fix.  Define as a list of regular expressions for
	folders or nil.
	* wl-folder.el (wl-folder-check-one-entity): Use
	`wl-string-match-member' instead of `wl-string-member' for
	`wl-strict-diff-folders'.

2000-09-14  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-xmas.el (wl-xmas-highlight-folder-group-line): New function.
	(wl-highlight-folder-current-line): Use it; new implementation.
	(wl-xmas-setup-draft-toolbar, wl-xmas-setup-message-toolbar,
	wl-xmas-setup-summary-toolbar, wl-xmas-setup-folder-toolbar): Use
	`defsubst' instead of `defun'.

	* wl-vars.el (wl-highlight-folder-by-numbers): Renamed from
	`wl-highlight-group-folder-by-numbers'; made it can also be a
	number.  See info for more details.

	* wl-summary.el: Bind `wl-xmas-setup-summary' when XEmacs is not
	running.

	* wl-nemacs.el (wl-xmas-setup-*, wl-delete-all-overlays): No need
	to bind them.

	* wl-mule.el (wl-xmas-setup-*): No need to bind them.
	(wl-highlight-folder-current-line): New implementation.

	* wl-highlight.el (wl-highlight-folder-group-line): New
	implementation.
	(wl-delete-all-overlays): Rewrite as a marco.
	(TopLevel): Require `wl-e21' when Emacs 21 is running.

	* wl-folder.el: Bind `wl-xmas-setup-folder' when XEmacs is not
	running.
	(wl-folder-*-glyph): No need to bind them.

	* wl-e21.el (wl-e21-highlight-folder-group-line): Renamed from
	`wl-e21-highlight-folder-group-icon'; rewrite.
	(wl-e21-setup-draft-toolbar, wl-e21-setup-message-toolbar): Use
	`defsubst' instead of `defun'.
	(wl-folder-mode-map): Bind it when compiling.

2000-09-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl.el (wl): Initialize plug-related settings before `wl-init'.

	* wl-draft.el (wl-draft): funcall `wl-fcc' if it is a function.

2000-09-13  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-folder.el (wl-folder-entity-assign-id): Undo the last change.

2000-09-11  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-e21.el (wl-e21-highlight-folder-group-icon): New function.
	(wl-highlight-folder-current-line): Use it.

	* wl-folder.el (wl-folder-entity-assign-id): Don't put text props
	in `id-name'.

2000-09-08  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl.el: Require `wl-e21' when Emacs 21 is running.

	* wl-vars.el (wl-highlight-folder-with-icon): Activate it by
	default when Emacs 21 is running.
	(wl-use-highlight-mouse-line): Ditto.
	(wl-on-emacs21): New constant.
	(wl-on-emacs20): Removed.

	* wl-summary.el (wl-summary-mode): Call `wl-e21-setup-summary' when
	Emacs 21 is running.

	* wl-folder.el (wl-folder-mode): Call `wl-e21-setup-folder' when
	Emacs 21 is running.

	* wl-e21.el: New file.

2000-09-08   Daiki Ueno  <ueno@unixuser.org>

	* wl.el (wl-plugged-init): Refer `wl-plug-state-indicator-on' indirectly.
	(wl-toggle-plugged): Ditto.
	(wl-plugged-toggle): Ditto.
	(wl-plugged-toggle-all): Ditto.

	* wl-vars.el (wl-plug-state-indicator): Refer
	`wl-plug-state-indicator-on' indirectly.

2000-08-31  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync-update3): Call `elmo-commit'.
	Call `wl-folder-confirm-existence'.

	* wl-folder.el (wl-folder-confirm-existence): Added optional
	argument `force'.

2000-08-30  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-summary.el (wl-summary-refile-subr): Assume
	`copy-or-refile' as symbol.
	(wl-summary-refile): Follow up above change.
	(wl-summary-copy): Ditto.  Doc fix.

2000-08-29  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-pick): Don't bind
	`elmo-search-mime-charset'.

	* wl-vars.el (wl-highlight-message-header-button-alist): Define
	default using old backquote style.
	(wl-search-mime-charset): Abolished.

	* wl-highlight.el (wl-highlight-headers):
	Call `point' after `re-search-forward'(for Nemacs).

	* wl-summary.el (wl-summary-msgdb-load-async): Follow up the changes
	for elmo-imap4.el.

2000-08-29   Daiki Ueno  <ueno@unixuser.org>

	* wl-message.el (wl-mmelmo-message-redisplay): Bind
	`wl-message-ignored-field-list' instead of
	`mime-view-ignored-field-list'.

	* wl-folder.el (wl-folder-goto-top-of-current-folder):Simplified.
	Add interactive spec.
	(wl-folder-goto-bottom-of-current-folder): Ditto.
	(wl-folder-mode-map): Bind them.

	* wl-vars.el (wl-message-ignored-field-list): New variable.
	(wl-message-visible-field-list): New variable.

	* wl-mime.el (wl-mime-header-presentation-method): New function.
	(wl-mime-setup): Set header-presentation-method.

2000-08-28   Daiki Ueno  <ueno@unixuser.org>

	* wl-nemacs.el (wl-draft-overload-functions): Set
	`mode-line-buffer-identification' instead of using
	`wl-make-modeline'.

	* wl.el (wl-plugged-mode): Set `mode-line-buffer-identification'
	instead	of using `wl-make-modeline'.

	* wl-xmas.el (wl-plugged-init-icons): Set up
	`wl-plug-state-indicator-on' and `wl-plug-state-indicator-off'.
	(wl-make-modeline): Abolish.
	(wl-draft-overload-functions): Set
	`mode-line-buffer-identification' instead of using
	`wl-make-modeline'.

	* wl-util.el (wl-make-modeline-subr): Abolish.
	(wl-mode-line-buffer-identification): New alias.

	* wl-summary.el (wl-summary-buffer-folder-indicator): New.
	(wl-summary-make-modeline): Abolish.
	(wl-summary-buffer-set-folder): Set
	`wl-summary-buffer-folder-indicator'.
	(wl-summary-mode): Set `mode-line-buffer-identification' instead
	of using `wl-make-modeline'.
	(wl-summary-switch-to-clone-buffer): Don't set
	`mode-line-buffer-identification'.
	(wl-summary-goto-folder-subr): Ditto.

	* wl-mule.el (wl-draft-overload-functions): Set
	`mode-line-buffer-identification' instead of using
	`wl-make-modeline'.

	* wl-folder.el (wl-folder-mode): Set
	`mode-line-buffer-identification' instead of using
	`wl-make-modeline'.
	(wl-folder): Don't set `mode-line-buffer-identification'.

2000-08-28  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-refile.el (wl-refile-learn): Simplified.  Use `memq'
	instead of `member' for `wl-refile-guess-func-list' look-ups.
	Use `cons' instead of `add-to-list' to update `wl-refile-alist'.

2000-08-28   Daiki Ueno  <ueno@unixuser.org>

	* wl-mime.el (wl-message-button-dispatcher-internal): Rename from
	`wl-message-button-dispatcher'.

	* tm-wl.el (wl-message-button-dispatcher-internal): Ditto.

	* wl-message.el (wl-message-button-dispatcher): Use it.

	* wl-vars.el (wl-highlight-message-header-button-alist): Add
	"In-Reply-To".

	* wl-highlight.el (wl-highlight-message-add-buttons-to-header):
	Bind `case-fold-search' to t.

2000-08-28   Daiki Ueno  <ueno@unixuser.org>

	* wl-xmas.el (wl-message-overload-functions): Initialize
	`wl-message-button-map'.

	* wl-mule.el (wl-message-overload-functions): Initialize
	`wl-message-button-map'.

	* wl-vars.el (wl-highlight-message-header-button-alist): New.

	* wl-message.el (wl-message-button-map): New keymap.
	(wl-message-add-button): New function.
	(wl-message-button-dispatcher): New function.
	(wl-message-button-refer-article): New function.

	* wl-highlight.el
	(wl-highlight-message-add-buttons-to-header): New function.
	(wl-highlight-headers): Use it.

2000-08-28   Daiki Ueno  <ueno@unixuser.org>

	* wl-summary.el (wl-summary-default-from): Use
	`wl-address-get-petname-1'.
	(wl-summary-simple-from): Ditto.

	* wl-address.el (wl-address-get-petname-1): New inline function.
	(wl-address-get-petname): Use it.

2000-08-27   Daiki Ueno  <ueno@unixuser.org>

	* wl-summary.el (wl-summary-default-from): Return full-name part
	from the address if no petname was found.
	(wl-summary-simple-from): Ditto.

	* wl-address.el (wl-address-get-petname): Return nil if no petname
	associated with the address was found.

2000-08-23  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-folder.el (wl-folder-open-all): Remove progress gauge when
	display is finished.

2000-08-23  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-folder.el (wl-folder-confirm-existence): Fixed typo in
	`elmo-folder-exists-p' argument.

2000-08-23   Daiki Ueno  <ueno@unixuser.org>

	* wl-folder.el (wl-folder-confirm-existence): Check existence of
	the folder.

2000-08-23  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-msgdb-load-async): Rewrite.

	* wl-draft.el (wl-draft-send-mail-with-pop-before-smtp):
	Use `elmo-pop3-get-session' instead of `elmo-pop3-get-connection'.

2000-08-22   Daiki Ueno  <ueno@unixuser.org>

	* wl-folder.el (wl-folder-create-subr): New function.
	(wl-folder-confirm-existence): Use it.
	(wl-folder-check-one-entity): Use it.
	Check the error symbol is derived from 'elmo-open-error.

	* wl-summary.el (wl-summary-read-folder): Don't pass the argument
	`ignore-error'.

2000-08-21  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-util.el (toplevel): Add (eval-when-compile (require
	'elmo-util)).  (Maybe `provide' is typo.)

2000-08-21  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-util.el (toplevel): Removed (provide 'elmo-util).
	(I don't know why this was needed.)

	* wl-summary.el (wl-summary-jump-to-msg-by-message-id-via-nntp):
	Follow up changes for stream-type.

	* wl-draft.el (wl-draft-send-mail-with-pop-before-smtp): Ditto.
	(wl-draft-elmo-nntp-send): Ditto.

	* wl-vars.el (wl-pop-before-smtp-stream-type): New variable.
	(wl-nntp-posting-stream-type): Ditto.
	(wl-pop-before-smtp-ssl): Abolished.
	(wl-nntp-posting-ssl): Ditto.

	* wl-address.el (wl-address-quote-specials): New function.
	(wl-address-make-completion-list): Use `wl-address-quote-specials'.

	* wl-draft.el (wl-draft-reply): Ditto.

2000-08-16  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-draft.el (wl-user-agent-compose): Add (require 'wl) for
	use function `wl-string-match-assoc'.

2000-08-10  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-draft-remove-group-list-contents): New user option.

	* wl-draft.el (wl-draft-deduce-address-list): New function.
	(wl-draft-parse-mailbox-list): Ditto.
	(wl-draft-send-mail-with-smtp): Use `wl-draft-deduce-address-list'
	instead of `smtp-deduce-address-list'.
	(wl-draft-on-field-p): Follow group list.

	* wl-address.el (wl-address-concat-token): New function.
	(wl-address-string-without-group-list-contents): Ditto.
	(wl-complete-field-body): Fixed problem of completion
	by japanese petname.
	(wl-address-make-completion-list): Rewrite.

2000-08-11  Taro Kawagishi <taro.kawagishi@nokia.com>

	* wl-address.el (wl-address-make-completion-list): Completion by
	petname.
	(wl-complete-field-body): Likewise.

2000-08-08  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-reply): Fixed problem when to or cc
	contains invalid address syntax.

2000-07-26  Kenichi OKADA  <okada@opaopa.org>

	* wl-folder.el (wl-folder-check-entity-async): Use
	`elmo-nntp-spec-hostname'.

2000-08-02  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-summary.el (wl-summary-msgdb-load-async): Use
	`elmo-imap4-mailbox' for `elmo-imap4-send-command'.

2000-07-31  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-reply): Set argument
	`content-transfer-encoding' as nil.

2000-07-26  Takaaki MORIYAMA <taka@airlab.cs.ritsumei.ac.jp>

	* wl-refile.el (wl-refile-learn): Move hit element to the top of
	`wl-refile-alist'.

2000-07-26  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-draft): Added argument `content-transfer-encoding'.
	(wl-draft-edit-string): Ditto.
	(wl-draft-forward): Ditto.
	* wl-summary.el (wl-summary-write): Ditto.

2000-07-24  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync-update3): Call
	`wl-summary-buffer-number-column-detect'.
	(wl-summary-buffer-number-column-detect): Search from point-min.

2000-07-19  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-reply): Fixed problem when mail-followup-to
	contains an address which is not included in original to or cc.

2000-07-19  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-target-mark-uudecode): Error when
	begin-line does not exist.
	* wl-message.el (wl-message-uu-substring): Ditto.

2000-07-18  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-mode): Call `kill-all-local-variables' to
	clear local variables.
	(wl-summary-exit): Call `elmo-commit'.
	(wl-summary-switch-to-clone-buffer): Call
	`wl-summary-buffer-set-folder' after `wl-summary-mode'.
	(wl-summary-goto-folder-subr): Ditto.

	* wl-vars.el (wl-folder-sync-range-alist): Changed default value for
	POP folder.

2000-07-17  Yuuichi Teranishi  <teranisi@gohome.org>

	* tm-wl.el, wl-address.el, wl-demo.el, wl-dnd.el, wl-draft.el,
	wl-draft.el.orig, wl-expire.el, wl-fldmgr.el, wl-folder.el,
	wl-highlight.el, wl-message.el, wl-mime.el, wl-mule.el, wl-nemacs.el,
	wl-refile.el, wl-refile.el.orig, wl-score.el, wl-summary.el,
	wl-summary.el.orig, wl-template.el, wl-thread.el, wl-util.el,
	wl-vars.el, wl-xmas.el, wl.el (toplevel): Deleted time-stamp line.

	* wl-draft.el (wl-draft-reply): Bind `eword-lexical-analyzer' locally.

2000-07-12  Hironori Fukuchi <nory@valis.co.jp>

	* wl-summary.el (wl-summary-search-by-subject):
	Search parent message from the latest one.

2000-07-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-reply):	Insert address with full-name.
	(Thanks to MAKINO Takashi <makino@cyber.office.ne.jp>)

	* wl-vars.el (wl-draft-reply-use-address-with-full-name):
	New user option.

	* wl-summary.el (wl-summary-sync-update3): Use `elmo-list-bigger-diff'
	if elmo-nntp-use-killed-list is nil.
	Use `elmo-msgdb-append-to-killed-list'.
	(Append numbers confirmed as disappeared to the killed list.)
	(wl-summary-confirm-appends): Don't display negative number.

2000-07-07  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (TopLevel): Define-maybe `ps-print-preprint'.

2000-07-11  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync): Call `elmo-clear-killed' when
	range is `all'.
	(wl-summary-sync-update3): Use `elmo-list-diff' instead of
	`elmo-list-bigger-diff'.

2000-07-04  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-buffer-exit-func):
	New buffer local variable.
	(wl-summary-exit): Call `wl-summary-buffer-exit-func' if non-nil.

2000-07-10  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Fix the last change.

2000-07-07  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Don't use `eval'.

2000-07-07  Kenichi OKADA  <okada@opaopa.org>

	* wl-summary.el (wl-summary-buffer-thread-modified):
	New buffer-local variable.
	(wl-summary-set-thread-modified): New function.
	(wl-summary-thread-modified-p): New function.
	(wl-summary-save-status): Use function `wl-summary-thread-modified-p'.
	(wl-summary-yank-saved-message): Use function
	`wl-summary-set-thread-modified'
	(wl-summary-switch-to-clone-buffer): Add
	`wl-summary-buffer-thread-modified'.

	* wl-vars.el (wl-summary-buffer-message-saved-hook): New variable.
	(wl-summary-buffer-mark-saved-hook): Ditto.
	* wl-summary.el (wl-summary-msgdb-save): New hook
	`wl-summary-buffer-message-saved-hook' and
	`wl-summary-buffer-mark-saved-hook'.

2000-07-04  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Simplified `fringe' face manipulation.

2000-07-04  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Make `kill-buffer-hook' buffer-local;
	don't hide scroll bars under FSF Emacsen because it may incur an
	undesirable redrawing.

2000-07-04  Kenichi OKADA  <okada@opaopa.org>

	* wl-draft.el (wl-draft-edit-string): Call
	`wl-draft-reedit-hook' instead of `wl-mail-setup-hook'.

2000-07-03  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Hide scroll bars, etc. first.

2000-07-01  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-summary.el (wl-summary-msgdb-load-async): Call
	`elmo-imap4-spec-mailbox' instead of `elmo-imap4-spec-folder'.

2000-06-30  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Don't show scroll bars, gutter tabs or
	fringes in demo buffer; center bitmap logo correctly even if old
	Mule is used.

2000-06-27  MAKINO Takashi <makino@cyber.office.ne.jp>

	* wl.el (wl-save-status): Call `wl-refile-alist-save' without argument.

	* wl-refile.el (wl-refile-subject-alist): New variable.
	(wl-refile-subject-alist-file-name): Ditto.
	(wl-refile-alist-setup): Rewrite.
	(wl-refile-alist-save): Use `elmo-object-save'.
	Eliminated arguments.
	(wl-refile-learn): Check `wl-refile-guess-func-list'.
	(wl-refile-guess-by-subject): New function.
	(wl-refile-guess-func-list): Added it.

2000-06-29  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo-with-temp-file-buffer): New macro.
	(wl-logo-bitmap, wl-logo-xbm, wl-logo-xpm): Use it.

2000-06-28  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-buffer-prev-folder-func):
	New buffer-local variable.
	(wl-summary-buffer-next-folder-func): Ditto.
	(wl-summary-down): Call `wl-summary-buffer-next-folder-func'
	if non-nil.
	(wl-summary-up): Call `wl-summary-buffer-prev-folder-func'
	if non-nil.
	(wl-summary-next): Call `wl-summary-buffer-next-folder-func'
	if non-nil.
	(wl-summary-prev): Call `wl-summary-buffer-prev-folder-func'
	if non-nil.

2000-06-23  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Don't set the value of `fill-column'
	permanently in the demo buffer.

2000-06-22  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-mime.el (wl-summary-burst-subr): Use `mime-entity-body' and
	`mime-entity-fetch-field'.

	* wl.el (wl-exit): Delete plugged buffer.

	* wl-xmas.el (wl-draft-overload-menubar): Override menubar only when
	XEmacs has menubar feature.

2000-06-19  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Don't use `end-of-line' with arg 0.  It
	cannot arrive at the beginning of the buffer under old Emacsen.

2000-06-19  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-address.el (wl-address-ldap-search):
	Call `ldap-search-entries' with `withdn' argument t.
	(wl-complete-field-body): Bind completion-ignore-case as t.
	Clear ldap search hash when it was sole completion.
	Use elmo-string for pattern string.
	(wl-ldap-alias-safe-string): Eliminated needless let.

2000-06-16  Shun-ichi GOTO <gotoh@taiyo.co.jp>

	* wl-address.el (wl-ldap-alias-dn-level): New variable.
	(wl-ldap-alias-sep): New constant.
	(wl-ldap-search-attribute-type-list): Ditto.
	(wl-ldap-get-value): New function.
	(wl-ldap-make-filter): Ditto.
	(wl-ldap-make-matched-value-list): Ditto.
	(wl-ldap-alias-safe-string): Ditto.
	(wl-ldap-register-dn-string): Ditto.
	(wl-address-ldap-search): Rewrite.

2000-06-17  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-thread.el (wl-thread-delete-msgs): Fixed problem when closed
	thread is deleted.
	(wl-thread-delete-line-from-buffer): Ditto.
	(wl-thread-get-exist-children): New function.

2000-06-15  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-demo.el (wl-demo): Made it to select various image types.
	(wl-logo-bitmap, wl-logo-xbm, wl-logo-xpm): Renamed and divided
	from `wl-title-logo'.
	(wl-logo-ascii): New variable.
	(TopLevel): Require `wl-highlight'; no need to require `wl-xmas'.
	(wl-demo-copyright-notice): New constant.

	* wl-vars.el (wl-demo-display-logo): Made it can be a image type.

2000-06-15  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-vars.el (wl-summary-target-above): Renamed from
	wl-summary-temp-above.
	* wl-score.el (wl-score-get-score-alist): Use it.
	(wl-summary-score-update-all-lines): Use it.
	* wl-summary.el: Ditto. (make-variable-buffer-local).

2000-06-15  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-ldap-port): New user option.

	* wl-address.el (wl-address-ldap-search): Renamed from wl-ldap-search.
	Rewite whole implementation.
	(wl-complete-field-body): Fixed.

2000-06-14  Yuuichi Teranishi  <teranisi@quickhack.net>

	* wl-address.el (wl-ldap-search-internal): Renamed to `wl-ldap-search'.
	Choose implementation at compile time.

2000-06-13  Takeshi Chiba <chiba@d3.bs1.fc.nec.co.jp>

	* wl-address.el (wl-ldap-search-internal): New function.
	(wl-complete-field-to): Use it.

2000-06-12  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-address.el (wl-ldap-search): Use `with-temp-buffer'.
	Use `let' instead of `let*'.
	Require 'wl-vars.

	* wl-vars.el (wl-ldap-server): Moved from wl-address.el.
	Define as defcustom.
	(wl-ldap-base): Ditto.
	(wl-use-ldap): Ditto.

2000-06-09  Takeshi Chiba <chiba@d3.bs1.fc.nec.co.jp>

	* wl-address.el (wl-ldap-search): New function.
	(wl-complete-field-body): Use `wl-ldap-search'.
	(wl-ldap-server): New variable.
	(wl-ldap-base): Ditto.
	(wl-use-ldap): Ditto.

2000-06-08  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-score.el (wl-score-guess-like-gnus): Use `elmo-string'
	(Pointed out by Mito <mit@nines.nec.co.jp>).
	* wl-summary.el (wl-summary-redisplay-no-mime): Update
	buffer-local variables like `wl-summary-redisplay-internal'.
	(wl-summary-redisplay-all-header): Likewise.  Update
	Summary view too.

2000-06-05  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-jump-to-parent-message):
	Consider prefix argument.

	* wl-thread.el (wl-thread-update-line-msgs): Fixed problem
	when closed thread is deleted.

2000-05-31  Yasushi ABE <yasushi@stbbs.net>

	* wl-summary.el (wl-summary-jump-to-parent-message):
	Consider thread modification.

2000-06-03  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-message.el (wl-message-normal-get-original-buffer): Use
	`save-excursion'.

	* wl-vars.el (wl-smtp-posting-server): Customization Type fix.
	(wl-summary-showto-folder-regexp): Ditto.

2000-05-31  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-util.el (wl-delete-alist): Doc fix.
	(wl-delete-associations): New function.
	(wl-inverse-alist): New function.
	* wl-summary.el (wl-summary-exec-subr): Rename parameters.
	Split temporary variables. Use `wl-delete-associations'
	and `wl-inverse-alist'.
	(wl-summary-delete-copy-marks-on-buffer): Rename the parameter.

2000-05-30  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-folder.el (wl-folder-prefetch-entity):
	Execute prefetching if new count is unknown.

2000-05-27  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-vars.el (wl-summary-insert-headers-hook): New variable.

	* wl-thread.el (wl-thread-cleanup-symbols): If entity is exists,
	delete entity.
	(wl-thread-set-parent): If insert as top, set linked as nil.

	* wl-summary.el (wl-summary-delete-messages-on-buffer): Call
	`wl-thread-cleanup-symbols' when view mode is thread.

2000-05-26  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-folder.el (wl-folder-create-folder-entity): Use
	with-current-buffer.
	(wl-local-folder-init): Call set-buffer to make sure we are in
	the Folder buffer. Don't touch buffer-local variables here.
	(wl-folder-mode): Initialize buffer-local variables here.

	* wl-folder.el (wl-folder-get-path): Use let instead of let*.
	(wl-folder-entity-assign-id): Ditto.
	(wl-folder-create-entity-hashtb): Ditto.
	(wl-local-folder-init): Ditto.
	(wl-folder-create-group-alist): Initialize `cur-alist' with let.

2000-05-24  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-summary.el (wl-summary-default-from): Fix probrem when
	std11-extract-address-components return (nil "foo@bar").

2000-05-24  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-draft.el (wl-draft-clone-local-variables):
	Remove redundant `setq'.

2000-05-19  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-draft.el (wl-draft-yank-from-mail-reply-buffer):
	Bind wl-highlight-x-face-func as nil while highlighting header.

2000-05-21  OKAZAKI Tetsurou  <okazaki@be.to>

	* wl-folder.el (wl-folder-buffer-cur-path): Make buffer-local.

2000-05-21  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-summary.el (wl-summary-switch-to-clone-buffer): Remove
	elmo-msgdb-overview-hashtb from copy-variables.
	(wl-summary-refile-subr): Use `elmo-msgdb-overview-get-entity'
	instead of `elmo-msgdb-overview-get-entity-by-number'.
	(wl-summary-auto-refile): Ditto.

	* wl-thread.el (wl-thread-update-line-on-buffer-sub): Use
	`elmo-msgdb-overview-get-entity' instead of
	`elmo-msgdb-search-overview-entity'.  Use
	`elmo-msgdb-overview-get-entity' instead of
	`elmo-msgdb-overview-get-entity-by-number'.
	(wl-thread-insert-entity-sub): Ditto.
	(wl-thread-insert-message): Ditto.

	* wl-message.el (wl-mmelmo-message-redisplay): Change argument of
	`elmo-msgdb-overview-get-entity'.
	(wl-normal-message-redisplay): Ditto.

2000-05-20  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-thread.el (wl-thread-cleanup-symbols): Fix delete entity from
	`wl-thread-entities'.
	(wl-thread-delete-message): Fix remove top message from
	`wl-thread-entity-list'.

	* wl-summary.el (wl-summary-delete-messages-on-buffer): Don't use
	wl-append(nconc), because update-list is broken on Meadow.

	* wl-summary.el (wl-summary-insert-thread-entity): Changed delayed
	updating process.
	(wl-summary-rescan): Ditto.
	(wl-summary-sync-update3): Ditto.
	* wl-thread.el (wl-thread-set-parent): Renamed from
	`wl-summary-set-parent'.
	(wl-thread-insert-message): Updating buffer faster.
	(wl-thread-delete-message): Updating buffer faster.

	* wl-score.el (wl-summary-score-update-all-lines): Changed
	interval for display progress gauge.

2000-05-19  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-vars.el (wl-summary-always-sticky-folder-list): `t' means all
	folder always-sticky.
	* wl-summary.el (wl-summary-always-sticky-folder-p): defun instead of
	defmacro.

2000-05-18  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-draft-add-references): New user option.

	* wl-draft.el (wl-draft-add-references): New function.
	(wl-draft-yank-from-mail-reply-buffer): Use it.
	(wl-draft-insert-current-message): Bind `wl-draft-add-references'
	as nil.

2000-05-12  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-thread.el (wl-thread-update-line-msgs): Called
	`wl-thread-update-line-on-buffer-sub'.
	(wl-thread-update-line-on-buffer): Delete routine of inserting
	thread.
	(wl-thread-update-line-on-buffer-sub): Routine of inserting thread
	moved from `wl-thread-update-line-on-buffer'.
	Add threshold for displaying progress gauge.
	* wl-summary.el (wl-summary-delete-messages-on-buffer): Change
	argument of `wl-thread-update-line-msgs'.
	Add threshold for displaying progress gauge.
	* wl-folder.el:
	Add threshold for displaying progress gauge.
	* wl-score.el: Ditto.

	* wl-expire.el (wl-summary-expire): Display deleting info.

2000-05-12  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-thread.el (wl-thread-update-line-msgs): Added optional argument
	`no-msg'.
	* wl-summary.el (wl-summary-delete-messages-on-buffer): Set no-msg
	argument of `wl-thread-update-line-msgs'.
	(wl-summary-set-parent): Added optional argument `parent-number'.
	(wl-summary-buffer-saved-message): New buffer local variable.
	(wl-summary-save-current-message): New command.
	(wl-summary-yank-saved-message): Ditto.
	(wl-summary-mode-map): Added key binding for
	`wl-summary-save-current-message' (\ew) and
	`wl-summary-yank-saved-message' (\C-y).
	(wl-summary-yank-saved-message): Inhibit setting itself as a parent.

2000-05-11  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-mode-map): Added key binding for
	`wl-summary-set-parent' (ts).

2000-05-10  Masahiro MURATA  <muse@ba2.so-net.ne.jp>

	* wl-summary.el (wl-summary-insert-thread-entity): Search same
	subject faster. If thread number is reverse, delayed updating
	thread.
	(wl-summary-search-by-subject): Ditto.
	(wl-summary-put-alike): Ditto.
	(wl-summary-get-alike): Ditto.
	(wl-summary-insert-headers): Insert header of all overview in
	buffer.
	(wl-summary-rescan): Delayed updating thread. Kill search subject
	buffer for wl-summary-search-by-subject.
	(wl-summary-sync-update3): Ditto.
	(wl-summary-exit): Ditto.
	(wl-summary-goto-bottom-of-current-thread): Change for linked
	thread.
	(wl-summary-overview-create-summary-line): Change line for linked
	thread.

	* wl-summary.el (wl-summary-update-thread): Use
	wl-thread-maybe-get-children-num.
	(wl-summary-set-parent): If change parent, move sub thread.
	(wl-summary-redisplay-internal): Add horizontal recenter.
	(wl-summary-redisplay-no-mime): Add horizontal recenter.

	* wl-thread.el (wl-thread-entity-get-linked): New function.
	(wl-thread-entity-set-linked): New function.
	(wl-thread-create-entity): Add linked element.
	(wl-thread-entity-insert-as-top): Use wl-append.
	(wl-thread-maybe-get-children-num): If closing thread, return
	children msgs.
	(wl-thread-update-line-msgs): Displaying progress message.
	(wl-thread-update-line-on-buffer-sub): Use
	wl-thread-maybe-get-children-num.
	(wl-thread-update-line-on-buffer): If update line is not exists,
	insert thread.
	(wl-thread-delete-message): If delete top msg of thread, search
	parent by subject.
	(wl-thread-insert-entity): Use
	wl-thread-maybe-get-children-num.

	* wl-highlight.el (wl-highlight-summary-current-line): change
	sregexp for linked thread.
	* wl-util.el (wl-count-lines): Count lines.
	(wl-horizontal-recenter): horizontal recenter.
	* wl-score.el (wl-score-put-alike): Use wl-count-lines
	(wl-score-get-alike): Ditto.
	* wl-vars.el (wl-summary-search-parent-by-subject-regexp): Changed.
	(wl-subject-length-limit): New variable.
	(wl-highlight-thread-indent-string-regexp): Changed for linked
	thread.

2000-05-10  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-summary-search-parent-by-subject-regexp):
	New variable (revival).
	* wl-summary.el (wl-summary-insert-thread-entity): Search parent
	by subject matching if there's no in-reply-to nor references field
	(revival).


2000-05-10  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-thread.el (wl-thread-close-all): Fixed typo in display-progress
	message.

2000-05-09  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-reply): Return t if there was a
	message at cursor point.
	Added unwind-protect.
	(wl-summary-reply-with-citation): Cite only when wl-summary-reply
	returns t.
	(wl-summary-cancel-message): Do nothing when there's no message at
	cursor point.
	(wl-summary-forward): Ditto.
	(wl-summary-jump-to-parent-message): Ditto.
	(wl-summary-reedit): Ditto.
	(wl-summary-edit-addresses): Ditto.
	(wl-summary-pipe-message): Ditto.
	(wl-summary-print-message-with-ps-print): Ditto.
	(wl-summary-print-message): Ditto.
	(wl-summary-mark-as-important): Ditto.
	(wl-summary-mark-as-unread): Ditto.

	* wl-summary.el (wl-summary-reply): Cause an error when there's no
	message at cursor point.
	(wl-summary-reply-with-citation): Remove unwind-protect.

	* wl-summary.el (wl-summary-insert-thread-entity): Eliminated
	subject searching feature.
	* wl-vars.el (wl-summary-search-parent-by-subject-regexp):
	Eliminated.

2000-04-28  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-summary-search-parent-by-subject-regexp):
	New variable.
	* wl-summary.el (wl-summary-insert-thread-entity): Search parent
	by subject matching if there's no in-reply-to nor references field.

	* wl-summary.el (wl-summary-set-parent): New command (No key binding).

	* wl-folder.el (wl-folder-insert-entity): Remove progress gauge
	when display is finished.
	(wl-folder-open-all): Ditto.
	(wl-folder-update-access-group): Ditto.
	* wl-summary.el (wl-summary-delete-messages-on-buffer): Ditto.
	* wl-thread.el (wl-thread-close-all): Ditto.

	* wl-summary.el (wl-summary-delete-messages-on-buffer): Remove
	progress gauge only when it was displayed.
	* wl-folder.el (wl-folder-insert-entity): Ditto.

2000-04-26  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-incorporate): Enclose
	`wl-summary-sync-force-update' with save-excursion.

2000-04-21  Yuuichi Teranishi  <teranisi@elmo.dq.isl.ntt.co.jp>

	* wl-summary.el (wl-summary-prefetch-region):
	Pass current cursor point to `pos-visible-in-window-p' after
	moving cursor to the started point.

2000-04-20  Katsumi Yamaoka    <yamaoka@jpl.org>

	* wl-vars.el (wl-ignored-forwarded-headers): New user option.

	* wl-draft.el (wl-draft-insert-current-message): Delete useless
	fields from the forwarding message.
	(wl-draft-yank-from-mail-reply-buffer): Allow the optional argument
	`ignored-fields'.

2000-04-20  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-mime.el (wl-message-request-partial):
	Eliminated argument `msgdb'.
	Don't pass `msgdb' argument to `elmo-read-msg-no-cache'.
	(wl-mime-combine-message/partial-pieces): Likewise.
	* tm-wl.el (wl-message-request-partial): Likewise.
	(wl-mime-combine-message/partial-pieces): Likewise.

2000-04-17  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* wl-summary.el (wl-summary-sync-marks): Remove progress gauge
	when display is finished.

2000-04-17  HARAGUCHI Shuugou <haraguti@nd.net.fujitsu.co.jp>

	* wl-summary.el (wl-summary-goto-folder-subr):
	Fix problem when wl-summary-partial-highlight-above-lines is nil.

2000-04-18  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-prefetch-region): Redisplay only
	when cursor point is visible.

2000-04-15  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-expire.el (wl-expire-archive-get-max-number):
	Don't use `file-name-directory'.

2000-04-14  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-expire.el (wl-expire-archive-get-max-number):
	Use `file-name-directory'.

2000-04-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-sync-marks): Re-display progress
	only when there is progress.

2000-04-13  Mito <mit@nines.nec.co.jp>

	* wl-summary.el (wl-summary-sync-marks): Display progress.

2000-04-13  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-move-cached-regex): Eliminated.
	(wl-summary-prev): Move cursor regardless of unread status.
	(wl-summary-next): Ditto.

2000-04-10  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-mime.el (wl-summary-burst-subr): Renamed from `wl-burst'.
	Added argument `target' and `number'.
	* tm-wl.el (wl-summary-burst-subr): New function.
	(wl-summary-burst): Use it.

2000-04-10  Mito <mit@nines.nec.co.jp>

	* wl-mime.el (wl-burst): New function.
	(wl-summary-burst): Use it.

2000-04-07  A. SAGATA <sagata@nttvdt.hil.ntt.co.jp>

	* wl-address.el (wl-address-petname-add-or-change): Use e-mail address
	as petname when there's no candidate.

2000-04-07  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-vars.el (wl-fldmgr-add-complete-with-current-folder-list):
	New variable.
	* wl-fldmgr.el (wl-fldmgr-add): Use it.

	* wl.el (wl-plugged-init): Flush queues if started with plugged status.

	* wl-folder.el (wl-folder-flush-queue): Flush operation queue too.

2000-04-05  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-refile.el (wl-refile-expand-newtext): Add `original' argument.
	Use substring of `original' instead of buffer-substring.
	(wl-refile-evaluate-rule):
	Set `original' argument of wl-refile-expand-newtext.

	* wl-summary.el
	(wl-summary-auto-refile-check-refile-rule-alist-subr,
	wl-summary-auto-refile-check-refile-rule-alist): Eliminated.
	(wl-summary-auto-refile): Check existence of destination folder just
	before marking.

2000-04-05  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* wl-refile.el (wl-refile-evaluate-rule): Fixed problem
	when wl-refile-get-field-value return nil.

2000-04-04   Daiki Ueno  <ueno@unixuser.org>

	* wl-refile.el
	(wl-refile-expand-newtext): New function imported from Gnus.
	(wl-refile-evaluate-rule): Use it.

2000-04-04  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-summary.el (wl-summary-print-destination):
	Duplicate folder string to avoid putting text-property on
	original string.

	* wl-refile.el (wl-refile-get-field-value): New function.
	(wl-refile-evaluate-rule): New function;
	Evaluate refile rule recursively.
	(wl-refile-guess-by-rule): Use wl-refile-evaluate-rule.
	* wl-summary.el (wl-summary-auto-refile-check-refile-rule-alist-subr):
	New function; Check existence of a target folder recursively.
	(wl-summary-auto-refile-check-refile-rule-alist):
	Use wl-summary-auto-refile-check-refile-rule-alist-subr.

2000-03-30  Yuuichi Teranishi  <teranisi@gohome.org>

	* wl-demo.el (wl-title-logo): Refer wl-icon-dir.

	* wl-folder.el (wl-create-folder-entity-from-buffer):
	Fixed problem when '}' character is contained in folder name.

	* wl-xmas.el (wl-make-modeline): Consider plugged status.

2000-03-29  Daiki Ueno <ueno@kiss.kake.info.waseda.ac.jp>

	* wl-fldmgr.el (wl-fldmgr-add-completion-hashtb): New variable.
	(wl-fldmgr-add-completion-all-completions):
	Use wl-fldmgr-add-completion-hashtb.

2000-03-28  Daiki Ueno <ueno@kiss.kake.info.waseda.ac.jp>

	* wl-fldmgr.el (wl-fldmgr-add-completion-all-completions,
	wl-fldmgr-add-completion-subr):	New functions.
	* wl-folder.el (wl-folder-completion-func): New variable.
	* wl-summary.el (wl-summary-read-folder):
	Use wl-folder-completion-func.

	* wl-refile.el: Eliminate throw & catch.

	* wl.el (wl-plugged-sending-queue-status): Fixed.

2000-03-27  Mikio Nakajima <minakaji@osaka.email.ne.jp>

	* wl-draft.el (wl-draft): Put category property on
	mail-header-separator.
